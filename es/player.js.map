{"version":3,"file":"player.js","sources":["../src/event/index.js","../src/service/httpx.js","../src/service/url/lcStore.js","../src/base64.js","../src/constant.js","../src/util.js","../src/iconfont.js","../src/slider.js","../src/contraller_bar/bar.js","../src/event/eventName.js","../src/contraller_bar/left_bar.js","../src/contraller_bar/colorPicker.js","../src/contraller_bar/right_bar.js","../src/contraller_bar/scale_bar.js","../src/contraller_bar/index.js","../src/event/contrallerEvent.js","../src/message.js","../src/time_line.js","../src/event/errorEvent.js","../src/event/dragEvent.js","../src/service/lcStore.js","../src/api.js","../src/event/browserTabEvent.js","../src/live_heart.js","../src/player.js","../src/history/utils.js","../src/history/time_line_history.js","../src/history/errorEvent.js","../src/history/play_end.js","../src/history/index.js","../src/createPlayer.js"],"sourcesContent":["class VideoEventInstance {\n  constructor(video) {\n    this.video = video\n    this.events = {}\n    this.playerEvents = {}\n  }\n  on(eventName, handle) {\n    this.events && this.events[eventName]\n      ? this.events[eventName].listener.push(handle)\n      : (this.events[eventName] = { type: eventName, listener: [handle] })\n  }\n  addEventListener(eventName, handle) {\n    if (this.video) {\n      this.playerEvents[eventName] ? this.playerEvents[eventName].push(handle) : (this.playerEvents[eventName] = [handle])\n      this.video.addEventListener(eventName, handle, false)\n    }\n  }\n  removeEventListener(eventName, handle) {\n    if (this.video) {\n      if (!this.playerEvents || !this.playerEvents[eventName]) {\n        return\n      }\n      let index = this.playerEvents[eventName].findIndex(v => v === handle)\n      index > -1 && this.playerEvents[eventName].splice(index, 1)\n      this.video.removeEventListener(eventName, handle, false)\n    }\n  }\n  emit(eventName, ...data) {\n    if (!this.events || !this.events[eventName]) {\n      return\n    }\n    this.events[eventName].listener.forEach(v => {\n      v(...data)\n    })\n  }\n  off(eventName, handle) {\n    if (!this.events || !this.events.eventName) {\n      return\n    }\n    let index = this.events[eventName].listener.findIndex(v => v === handle)\n    index > -1 && this.events[eventName].listener.splice(index, 1)\n  }\n  getApi() {\n    return { on: this.on.bind(this), off: this.off.bind(this), emit: this.emit.bind(this), addEventListener: this.addEventListener.bind(this), removeEventListener: this.removeEventListener.bind(this) }\n  }\n  destroy() {\n    Object.keys(this.playerEvents).forEach(key => {\n      this.playerEvents[key].forEach(fn => {\n        this.removeEventListener(key, fn)\n      })\n    })\n    this.playerEvents = {}\n    this.events = {}\n    this.video = null\n  }\n}\n\nexport default VideoEventInstance\n","/* global module,define,console */\r\n    /**\r\n     * Extend Object\r\n     *\r\n     * @param {object} dist\r\n     * @param {object} source\r\n     * @return {object} dist\r\n     */\r\n\r\n    function extend (dist, source) {\r\n        for (var key in source) {\r\n            if (source.hasOwnProperty(key)) {\r\n                dist[key] = source[key];\r\n            }\r\n        }\r\n\r\n        return dist;\r\n    }\r\n\r\n    /**\r\n     * Query url & strings build\r\n     *\r\n     * @param  {string} url  request url\r\n     * @param  {object} data request datas\r\n     * @return {object}\r\n     */\r\n\r\n    function urlBuild(url, data) {\r\n\r\n        if (typeof data === \"object\") {\r\n            var temp = [];\r\n\r\n            for (var i in data) {\r\n                temp.push(i + \"=\" + encodeURIComponent(data[i]));\r\n            }\r\n\r\n            data = temp.join(\"&\");\r\n        }\r\n\r\n        url = url + ( (url.indexOf(\"?\") < 0) ? ( (data === \"\" || !data) ? \"\" : \"?\" ) : (data === \"\" || !data) ? \"\" : \"&\") + data;\r\n\r\n        return {\r\n            url  : url,\r\n            data : data\r\n        };\r\n    }\r\n\r\n    var httpx = {\r\n        version : \"0.3.1\",\r\n\r\n        useXDR : false,\r\n\r\n        logPrefix : \"HTTPx.js:\",\r\n\r\n        /**\r\n         * Create XHR object\r\n         *\r\n         * @param  {boolean} [xdomain=false]\r\n         * @return {object}  xhr              XMLHttpRequest or XDomainRequest\r\n         */\r\n\r\n        xhr : function(xdomain) {\r\n            if (typeof xdomain === \"undefined\") {\r\n                xdomain = false;\r\n            }\r\n\r\n            try {\r\n                var xhr = xdomain ? new XDomainRequest() : new XMLHttpRequest(); // IE7+, XMLHttpRequest Level 1\r\n\r\n                return xhr;\r\n            } catch (e) {\r\n                console.error(e);\r\n\r\n                return null;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get default's configs\r\n         *\r\n         * @param  {string}         name\r\n         * @return {string|object}\r\n         */\r\n\r\n        defaults : function(name) {\r\n\r\n            name = name || \"\";\r\n\r\n            var $defaults = {\r\n                debug         : false,\r\n                async         : true,\r\n                timeout       : 3000,\r\n                method        : \"GET\",\r\n                url           : \"\",\r\n                data          : \"\",\r\n                dataType      : \"text\",\r\n                headers       : {},\r\n                contentType   : \"text/plain; charset=UTF-8\",\r\n                jsonp         : \"callback\",  // for query string\r\n                xhrFields     : { //  like jQuery xhrFields options\r\n                    withCredentials : false\r\n                },\r\n                sendBefore    : function(xhr) {\r\n                    return xhr; // or return this, this == xhr\r\n                },\r\n                success       : function() {},\r\n                error         : function(method, url) {\r\n                    console.error(\"HTTP Request Error: \", method, url, this.status + \" (\" + ((this.statusText) ? this.statusText : \"Unkown Error / Timeout\") + \")\");\r\n                },\r\n                ontimeout     : function(method, url) {\r\n                    console.error(\"HTTP Request Timeout: \", method, url, this.status + \" (\" + ((this.statusText) ? this.statusText : \"Timeout\") + \")\");\r\n                }\r\n            };\r\n\r\n            return (name !== \"\" && typeof name === \"string\") ? $defaults[name] : $defaults;\r\n        },\r\n\r\n        /**\r\n         * check need using XDomainRequest\r\n         *\r\n         * @param   {string}   url\r\n         * @returns {boolean}  useXDR\r\n         */\r\n\r\n        needUseXDomainRequest : function (url) {\r\n            var useXDR = false;\r\n\r\n            // For IE8 & IE9\r\n            if (/^((http:|https:)?\\/\\/)/.test(url) && location.hostname.indexOf(url) < 0) {\r\n                if (window.XDomainRequest) {\r\n                    useXDR = true;\r\n                }\r\n            }\r\n\r\n            return useXDR;\r\n        },\r\n\r\n        /**\r\n         * XHR requester\r\n         *\r\n         * @param  {object}                  [options={}]  request options\r\n         * @return {XMLHttpRequest|boolean}  xhr           XMLHttpRequest Or XDomainRequest Object\r\n         */\r\n\r\n        request : function(options) {\r\n            options      = options  || {};\r\n\r\n            var settings = extend(this.defaults(), options);\r\n\r\n            settings.method = settings.method.toUpperCase();\r\n\r\n            var useXDR  = false;\r\n            var url     = settings.url;\r\n            var data    = settings.data;\r\n            var method  = settings.method;\r\n            var urlData = urlBuild(url, data);\r\n\r\n            if (settings.debug) {\r\n                console.log(this.logPrefix + \" settings =>\", settings);\r\n            }\r\n\r\n            data = urlData.data;\r\n\r\n            if (method === \"GET\") {\r\n                url = urlData.url;\r\n            }\r\n\r\n            if (this.needUseXDomainRequest(url)) {\r\n                useXDR = true;\r\n\r\n                if (settings.debug) {\r\n                    console.warn(this.logPrefix + \" Cross domain request using XDomainRequest.\");\r\n                    console.warn(location.hostname + \" => \" + url);\r\n                }\r\n\r\n                if (!window.addEventListener && !/MSIE 8\\.0/.test(navigator.userAgent)) {\r\n                    console.error(this.logPrefix + \" Your browser can'nt support cross domain request => \" + url + \".\");\r\n\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            var xhr = this.xhr(useXDR);\r\n\r\n            if (!xhr) {\r\n                return false;\r\n            }\r\n\r\n            if (typeof settings.xhrFields.withCredentials !== \"undefined\") {\r\n                xhr.withCredentials = settings.xhrFields.withCredentials;\r\n            }\r\n\r\n            var success = function () {\r\n                var result;\r\n\r\n                switch (settings.dataType) {\r\n                    case \"json\" :\r\n                        result = JSON.parse(xhr.responseText);\r\n                        break;\r\n                    case \"xml\":\r\n                        result = xhr.responseXML;\r\n                        break;\r\n                    default:\r\n                        result = xhr.responseText;\r\n                        break;\r\n                }\r\n\r\n                settings.success.bind(xhr)(result);\r\n            };\r\n\r\n            var readyStateChange = function(e) {\r\n                if ( xhr.readyState === 4 ) {\r\n                    if ( xhr.status === 200 || xhr.status === 304) {\r\n                        success();\r\n                    } else {\r\n                        settings.error.bind(xhr)(method, url, e);\r\n                    }\r\n                }\r\n            };\r\n\r\n            if (useXDR) {\r\n                xhr.onload  = success;\r\n\r\n                xhr.onerror = function(e) {\r\n                    settings.error.bind(xhr)(method, url, e);\r\n                };\r\n\r\n                xhr.ontimeout = function(e) {\r\n                    settings.ontimeout.bind(xhr)(method, url, e);\r\n                };\r\n\r\n                if (method !== \"GET\" && method !== \"OPTIONS\") {\r\n                    method = \"POST\";\r\n                } else if (method === \"OPTIONS\") {\r\n                    method = \"GET\";\r\n                }\r\n            } else {\r\n                xhr.addEventListener(\"readystatechange\", readyStateChange);\r\n\r\n                xhr.addEventListener(\"error\", function(e) {\r\n                    settings.error.bind(xhr)(method, url, e);\r\n                });\r\n\r\n                xhr.addEventListener(\"timeout\", function(e) {\r\n                    settings.ontimeout.bind(xhr)(method, url, e);\r\n                });\r\n            }\r\n\r\n            xhr.open(method, url, settings.async);\r\n\r\n            var contentType = settings.contentType;\r\n\r\n            if (!useXDR) {\r\n                if (method !== \"GET\") {\r\n                    contentType = \"application/x-www-form-urlencoded\";\r\n                }\r\n\r\n                xhr.setRequestHeader(\"Content-type\", contentType);\r\n\r\n                // Custom http headers, you can override default's Content-Type header.\r\n                for (var key2 in settings.headers) {\r\n                    xhr.setRequestHeader(key2, settings.headers[key2]);\r\n                }\r\n            }\r\n\r\n            // New property\r\n            xhr.$request = {\r\n                url         : url,\r\n                method      : method,\r\n                dataType    : settings.dataType,\r\n                contentType : contentType,\r\n                headers     : settings.headers\r\n            };\r\n\r\n            // Compatibility v0.1.0~0.2.0\r\n            xhr.$url      = url;\r\n            xhr.$method   = method;\r\n            xhr.$dataType = settings.dataType;\r\n            xhr.timeout   = settings.timeout;\r\n\r\n            if (typeof settings.sendBefore === \"function\") {\r\n                // sendBefore for custom xhr fields\r\n                var _xhr = settings.sendBefore.bind(xhr)(xhr);\r\n\r\n                if (_xhr) {\r\n                    if (_xhr instanceof XMLHttpRequest ||\r\n                        (typeof XDomainRequest !== \"undefined\" && _xhr instanceof XDomainRequest)) {\r\n                        xhr = _xhr;\r\n                    }\r\n                }\r\n            }\r\n\r\n            xhr.send(data);\r\n\r\n            return xhr;\r\n        },\r\n\r\n        /**\r\n         * Execute request for short methods\r\n         *\r\n         * @param  {string}          method     HTTP method\r\n         * @param  {string|object}   url        request url or options k/v object\r\n         * @param  {object}          data       request data\r\n         * @param  {function}        callback   Success callback\r\n         * @param  {function}        error      Error callback\r\n         * @param  {object}          options    Request options\r\n         * @return {XMLHttpRequest}  xhr        XMLHttpRequest Or XDomainRequest Object\r\n         */\r\n\r\n        exec : function(method, url, data, callback, error, options) {\r\n            data     = data     || {};\r\n            callback = callback || function() {};\r\n            error    = error    || this.defaults(\"error\");\r\n            options  = options  || {};\r\n\r\n            if (typeof data === \"function\") {\r\n                error    = callback;\r\n                callback = data;\r\n                data     = \"\";\r\n            }\r\n\r\n            var defaults = {\r\n                url     : url,\r\n                method  : method,\r\n                data    : data,\r\n                success : callback,\r\n                error   : error\r\n            };\r\n\r\n            if (typeof url === \"object\") {\r\n                options = url;\r\n                options.method = method;\r\n            }\r\n\r\n            return this.request(extend(defaults, options));\r\n        },\r\n\r\n        /**\r\n         * GET method\r\n         *\r\n         * @param  {string|object} url      request url or options k/v object\r\n         * @param  {object}        data     request datas\r\n         * @param  {function}      callback Success callback\r\n         * @param  {function}      error    Error callback\r\n         * @param  {object}        options  Request options\r\n         * @return {void}\r\n         */\r\n\r\n        get : function(url, data, callback, error, options) {\r\n            this.exec(\"GET\", url, data, callback, error, options);\r\n        },\r\n\r\n        /**\r\n         * POST method\r\n         *\r\n         * @param  {string|object} url      request url or options k/v object\r\n         * @param  {object}        data     request datas\r\n         * @param  {function}      callback Success callback\r\n         * @param  {function}      error    Error callback\r\n         * @param  {object}        options  Request options\r\n         * @return {void}\r\n         */\r\n\r\n        post : function(url, data, callback, error, options) {\r\n            this.exec(\"POST\", url, data, callback, error, options);\r\n        },\r\n\r\n        /**\r\n         * PUT method\r\n         *\r\n         * @param  {string|object} url      request url or options k/v object\r\n         * @param  {object}        data     request datas\r\n         * @param  {function}      callback Success callback\r\n         * @param  {function}      error    Error callback\r\n         * @param  {object}        options  Request options\r\n         * @return {void}\r\n         */\r\n\r\n        put : function(url, data, callback, error, options) {\r\n            this.exec(\"PUT\", url, data, callback, error, options);\r\n        },\r\n\r\n        /**\r\n         * PATCH method\r\n         *\r\n         * @param  {string|object} url      request url or options k/v object\r\n         * @param  {object}        data     request datas\r\n         * @param  {function}      callback Success callback\r\n         * @param  {function}      error    Error callback\r\n         * @param  {object}        options  Request options\r\n         * @return {void}\r\n         */\r\n\r\n        patch : function(url, data, callback, error, options) {\r\n            this.exec(\"PATCH\", url, data, callback, error, options);\r\n        },\r\n\r\n        /**\r\n         * DELETE method\r\n         *\r\n         * @param  {string|object} url      request url or options k/v object\r\n         * @param  {object}        data     request datas\r\n         * @param  {function}      callback Success callback\r\n         * @param  {function}      error    Error callback\r\n         * @param  {object}        options  Request options\r\n         * @return {void}\r\n         */\r\n\r\n        \"delete\" : function(url, data, callback, error, options) {\r\n            this.exec(\"DELETE\", url, data, callback, error, options);\r\n        },\r\n\r\n        /**\r\n         * Get json, link jQuery getJSON()\r\n         *\r\n         * @param  {string|object} url      request url or options k/v object\r\n         * @param  {object}        data     request datas\r\n         * @param  {function}      callback Success callback\r\n         * @param  {function}      error    Error callback\r\n         * @param  {object}        options  Request options\r\n         * @return {void}\r\n         */\r\n\r\n        json : function(url, data, callback, error, options) {\r\n            data     = data     || {};\r\n            callback = callback || function() {};\r\n            error    = error    || this.defaults(\"error\");\r\n            options  = options  || {};\r\n\r\n            if (typeof data === \"function\") {\r\n                error    = callback;\r\n                callback = data;\r\n                data     = \"\";\r\n            }\r\n\r\n            var defaults = {\r\n                url      : url,\r\n                dataType : \"json\",\r\n                method   : \"GET\",\r\n                data     : data,\r\n                success  : callback,\r\n                error    : error\r\n            };\r\n\r\n            if (typeof url === \"object\") {\r\n                options          = url;\r\n                options.method   = \"GET\";\r\n                options.dataType = \"json\";\r\n            }\r\n\r\n            this.request(extend(defaults, options));\r\n        },\r\n\r\n        /**\r\n         * Alias json()\r\n         *\r\n         * @param  {string|object} url      request url or options k/v object\r\n         * @param  {object}        data     request datas\r\n         * @param  {function}      callback Success callback\r\n         * @param  {function}      error    Error callback\r\n         * @param  {object}        options  Request options\r\n         * @return {void}\r\n         */\r\n\r\n        getJSON : function(url, data, callback, error, options) {\r\n            this.json(url, data, callback, error, options);\r\n        },\r\n\r\n        /**\r\n         * JSONP method\r\n         *\r\n         * @param  {string|object} url          request url or options k/v object\r\n         * @param  {object}        data         request datas\r\n         * @param  {function}      callback     Success callback\r\n         * @param  {string}        callbackName for query string name\r\n         * @return {void}\r\n         */\r\n\r\n        jsonp : function(url, data, callback, callbackName) {\r\n            callbackName = callbackName || \"callback\";\r\n\r\n            if (typeof data === \"function\") {\r\n                callbackName = callback;\r\n                callback     = data;\r\n                data         = \"\";\r\n            }\r\n\r\n            var urlData = urlBuild(url, data);\r\n\r\n            url  = urlData.url;\r\n            data = urlData.data;\r\n\r\n            var fn = \"__jsonp_\" + callbackName + (new Date()).getTime() + \"_\" + Math.floor(Math.random() * 100000) + \"__\";\r\n\r\n            url += ((url.indexOf(\"?\") < 0) ? \"?\" : \"&\") + callbackName + \"=\" + fn;\r\n\r\n            var evalJsonp = function(callback) {\r\n                return function(data) {\r\n\r\n                    if (typeof data === \"string\")\r\n                    {\r\n                        try {\r\n                            data = JSON.parse(data);\r\n                        } catch (e) {}\r\n                    }\r\n\r\n                    data = data || {};\r\n\r\n                    callback(data, url);\r\n                    window[fn] = null;\r\n                    document.body.removeChild(document.getElementById(fn));\r\n                };\r\n            };\r\n\r\n            window[fn] = evalJsonp(callback);\r\n\r\n            var script   = document.createElement(\"script\");\r\n            script.src   = url;\r\n            script.async = true;\r\n            script.id    = fn;\r\n            document.body.appendChild(script);\r\n        },\r\n\r\n        /**\r\n         * Get script file, like jQuery getScript()\r\n         *\r\n         * @param   {string}   src      javascript file path\r\n         * @param   {function} callback loaded callback function\r\n         * @returns {void}\r\n         */\r\n\r\n        getScript : function(src, callback) {\r\n            if (src === \"\") {\r\n                console.error(\"Error: Get script source can't be empty\");\r\n                return ;\r\n            }\r\n\r\n            callback   = callback || function() {};\r\n\r\n            var head   = document.getElementsByTagName(\"head\")[0];\r\n            var loaded = document.querySelectorAll(\"script[src=\\\"\"+src+\"\\\"]\");\r\n\r\n            if (loaded.length > 0) {\r\n                head.removeChild(loaded[0]);\r\n            }\r\n\r\n            var script  = document.createElement(\"script\");\r\n            script.type = \"text/javascript\";\r\n\r\n            script.onload = script.onreadystatechange = function() {\r\n                if (!script.readyState || /loaded|complete/.test(script.readyState) ) {\r\n                    script.onload = script.onreadystatechange = null;\r\n                    script        = undefined;\r\n                    callback();\r\n                }\r\n            };\r\n\r\n            script.src   = src;\r\n            script.async = true;\r\n\r\n            head.appendChild(script);\r\n        }\r\n    };\r\n\r\n\r\n    export default httpx;","const hostUrl = 'http://127.0.0.1';\r\n\r\nexport default {\r\n  getTranscodingStream: {\r\n    value: `${hostUrl}:<port>/video/v1/transcoding?uri=<pull_uri>`,\r\n    label: '获取视频流接口',\r\n    actionName: 'getTranscodingStream'\r\n  },\r\n  setStreamResolution:{\r\n    value: `${hostUrl}:<port>/video/v1/change?resolution=<resolution>`,\r\n    label: '修改视频流接口',\r\n    actionName: 'setStreamResolution'\r\n  }\r\n};\r\n","var BASE64_MAPPING = [\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H',\n  'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\n  'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X',\n  'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',\n  'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',\n  'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n  'w', 'x', 'y', 'z', '0', '1', '2', '3',\n  '4', '5', '6', '7', '8', '9', '+', '/'\n];\nvar URLSAFE_BASE64_MAPPING = [\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H',\n  'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\n  'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X',\n  'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',\n  'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',\n  'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n  'w', 'x', 'y', 'z', '0', '1', '2', '3',\n  '4', '5', '6', '7', '8', '9', '-', '_'\n];\n\nvar _toBinary = function (ascii) {\n  var binary = [];\n  while (ascii > 0) {\n      var b = ascii % 2;\n      ascii = Math.floor(ascii / 2);\n      binary.push(b);\n  }\n  binary.reverse();\n  return binary;\n};\n\nvar _toDecimal = function (binary) {\n  var dec = 0;\n  var p = 0;\n  for (var i = binary.length - 1; i >= 0; --i) {\n      var b = binary[i];\n      if (b == 1) {\n          dec += Math.pow(2, p);\n      }\n      ++p;\n  }\n  return dec;\n};\n\nvar _toUTF8Binary = function (c, binaryArray) {\n  var mustLen = (8 - (c + 1)) + ((c - 1) * 6);\n  var fatLen = binaryArray.length;\n  var diff = mustLen - fatLen;\n  while (--diff >= 0) {\n      binaryArray.unshift(0);\n  }\n  var binary = [];\n  var _c = c;\n  while (--_c >= 0) {\n      binary.push(1);\n  }\n  binary.push(0);\n  var i = 0, len = 8 - (c + 1);\n  for (; i < len; ++i) {\n      binary.push(binaryArray[i]);\n  }\n\n  for (var j = 0; j < c - 1; ++j) {\n      binary.push(1);\n      binary.push(0);\n      var sum = 6;\n      while (--sum >= 0) {\n          binary.push(binaryArray[i++]);\n      }\n  }\n  return binary;\n};\n\nvar _toBinaryArray = function (str) {\n  var binaryArray = [];\n  for (var i = 0, len = str.length; i < len; ++i) {\n      var unicode = str.charCodeAt(i);\n      var _tmpBinary = _toBinary(unicode);\n      if (unicode < 0x80) {\n          var _tmpdiff = 8 - _tmpBinary.length;\n          while (--_tmpdiff >= 0) {\n              _tmpBinary.unshift(0);\n          }\n          binaryArray = binaryArray.concat(_tmpBinary);\n      } else if (unicode >= 0x80 && unicode <= 0x7FF) {\n          binaryArray = binaryArray.concat(_toUTF8Binary(2, _tmpBinary));\n      } else if (unicode >= 0x800 && unicode <= 0xFFFF) {//UTF-8 3byte\n          binaryArray = binaryArray.concat(_toUTF8Binary(3, _tmpBinary));\n      } else if (unicode >= 0x10000 && unicode <= 0x1FFFFF) {//UTF-8 4byte\n          binaryArray = binaryArray.concat(_toUTF8Binary(4, _tmpBinary));\n      } else if (unicode >= 0x200000 && unicode <= 0x3FFFFFF) {//UTF-8 5byte\n          binaryArray = binaryArray.concat(_toUTF8Binary(5, _tmpBinary));\n      } else if (unicode >= 4000000 && unicode <= 0x7FFFFFFF) {//UTF-8 6byte\n          binaryArray = binaryArray.concat(_toUTF8Binary(6, _tmpBinary));\n      }\n  }\n  return binaryArray;\n};\n\nvar _toUnicodeStr = function (binaryArray) {\n  var unicode;\n  var unicodeBinary = [];\n  var str = \"\";\n  for (var i = 0, len = binaryArray.length; i < len;) {\n      if (binaryArray[i] == 0) {\n          unicode = _toDecimal(binaryArray.slice(i, i + 8));\n          str += String.fromCharCode(unicode);\n          i += 8;\n      } else {\n          var sum = 0;\n          while (i < len) {\n              if (binaryArray[i] == 1) {\n                  ++sum;\n              } else {\n                  break;\n              }\n              ++i;\n          }\n          unicodeBinary = unicodeBinary.concat(binaryArray.slice(i + 1, i + 8 - sum));\n          i += 8 - sum;\n          while (sum > 1) {\n              unicodeBinary = unicodeBinary.concat(binaryArray.slice(i + 2, i + 8));\n              i += 8;\n              --sum;\n          }\n          unicode = _toDecimal(unicodeBinary);\n          str += String.fromCharCode(unicode);\n          unicodeBinary = [];\n      }\n  }\n  return str;\n};\n\nvar _encode = function (str, url_safe) {\n  var base64_Index = [];\n  var binaryArray = _toBinaryArray(str);\n  var dictionary = url_safe ? URLSAFE_BASE64_MAPPING : BASE64_MAPPING;\n\n  var extra_Zero_Count = 0;\n  for (var i = 0, len = binaryArray.length; i < len; i += 6) {\n      var diff = (i + 6) - len;\n      if (diff == 2) {\n          extra_Zero_Count = 2;\n      } else if (diff == 4) {\n          extra_Zero_Count = 4;\n      }\n      var _tmpExtra_Zero_Count = extra_Zero_Count;\n      while (--_tmpExtra_Zero_Count >= 0) {\n          binaryArray.push(0);\n      }\n      base64_Index.push(_toDecimal(binaryArray.slice(i, i + 6)));\n  }\n\n  var base64 = '';\n  for (var i = 0, len = base64_Index.length; i < len; ++i) {\n      base64 += dictionary[base64_Index[i]];\n  }\n\n  for (var i = 0, len = extra_Zero_Count / 2; i < len; ++i) {\n      base64 += '=';\n  }\n  return base64;\n};\n\nvar _decode = function (_base64Str, url_safe) {\n  var _len = _base64Str.length;\n  var extra_Zero_Count = 0;\n  var dictionary = url_safe ? URLSAFE_BASE64_MAPPING : BASE64_MAPPING;\n\n  if (_base64Str.charAt(_len - 1) == '=') {\n      if (_base64Str.charAt(_len - 2) == '=') {//两个等号说明补了4个0\n          extra_Zero_Count = 4;\n          _base64Str = _base64Str.substring(0, _len - 2);\n      } else {//一个等号说明补了2个0\n          extra_Zero_Count = 2;\n          _base64Str = _base64Str.substring(0, _len - 1);\n      }\n  }\n\n  var binaryArray = [];\n  for (var i = 0, len = _base64Str.length; i < len; ++i) {\n      var c = _base64Str.charAt(i);\n      for (var j = 0, size = dictionary.length; j < size; ++j) {\n          if (c == dictionary[j]) {\n              var _tmp = _toBinary(j);\n              /*不足6位的补0*/\n              var _tmpLen = _tmp.length;\n              if (6 - _tmpLen > 0) {\n                  for (var k = 6 - _tmpLen; k > 0; --k) {\n                      _tmp.unshift(0);\n                  }\n              }\n              binaryArray = binaryArray.concat(_tmp);\n              break;\n          }\n      }\n  }\n  if (extra_Zero_Count > 0) {\n      binaryArray = binaryArray.slice(0, binaryArray.length - extra_Zero_Count);\n  }\n  var str = _toUnicodeStr(binaryArray);\n  return str;\n};\n\nvar __BASE64 = {\n  encode: function (str) {\n      return _encode(str, false);\n  },\n  decode: function (base64Str) {\n      return _decode(base64Str, false);\n  },\n  urlsafe_encode: function (str) {\n      return _encode(str, true);\n  },\n  urlsafe_decode: function (base64Str) {\n      return _decode(base64Str, true);\n  }\n};\n\n\nexport default __BASE64","export const hostUrl = 'http://127.0.0.1';\r\n/**\r\n * 全局配置\r\n * decryptionMode： 是否加密\r\n * switchRate：码率切换控制\r\n */\r\n export const GL_CACHE = {\r\n    DM :'decryptionMode',\r\n    SR :'switchRate',\r\n    PT :'palette',\r\n  }\r\n  \r\n  /**\r\n   * 客户端插件模式，随机端口\r\n   */\r\n  export const LOCAL_PORT = [\"15080\", \"15081\", \"15082\", \"15083\", \"15084\", \"15085\", \"15086\", \"15087\", \"15088\", \"15089\"]\r\n  \r\n  /**\r\n   * 插件播放版本提示\r\n   */\r\n  export const PLAY_CODE = {\r\n    '10000': '', \r\n    '10100': '版本需要更新',\r\n    '10200': '插件初始化异常',\r\n    '12000': '插件不存在',\r\n  }\r\n\r\n  \r\n/**\r\n * 获取视频分辨率\r\n */\r\n export const VIDEO_RESOLUTION = {\r\n    '1': { value: '1920*1080', name: '超清', resolution:'1080p', bitrate:'2M',show: true},\r\n    '2': { value: '1280*720', name: '高清', resolution:'720p', bitrate:'2M',show: true},\r\n    '3': { value: '640*360', name: '标清', resolution:'360p', bitrate:'500K',show: true},\r\n    '4': { value: '640*480', name: '标清', resolution:'480p', bitrate:'1M',show: false},\r\n    '5': { value: '', name: '原始', resolution: '', bitrate:'',show: true},\r\n}\r\n  \r\nexport const PY_M_CC_NAME = '播放配置出错，请检查浏览器本地存储PY_PLUS！'\r\n\r\n\r\nexport const VIDEO_SPEED = [0.125, 0.25, 0.5, 1, 2, 4, 8];","import flvjs from 'flv.zv.js'\nimport * as Hls from 'hls.js'\nimport httpx from './service/httpx'\nimport lcStore from './service/url/lcStore';\nimport {default as BASE64} from './base64';\n\nimport {hostUrl, GL_CACHE, LOCAL_PORT, PLAY_CODE, PY_M_CC_NAME , VIDEO_RESOLUTION} from './constant'\n\nwindow.zvpalyer = window.zvpalyer || {}\n\nexport function findVideoAttribute(val, kv) {\n  const ens = VIDEO_RESOLUTION\n  for(const key in ens){\n    if(ens[key]['resolution'] == val){\n      return ens[key][kv]\n    }\n  }\n}\n\n/**\n * 创建HLS对象\n * @param {*} video\n * @param {*} file\n */\nexport function createHlsPlayer(video, file) {\n  if (Hls.isSupported()) {\n    const player = new Hls({\n      liveDurationInfinity: true,\n      levelLoadingTimeOut: 15000,\n      fragLoadingTimeOut: 25000,\n      enableWorker: true,\n    })\n    player.loadSource(file)\n    player.attachMedia(video)\n    return player\n  }\n}\n\n/**\n * 创建FLV对象\n * @param {*} video\n * @param {*} options\n */\nexport function createFlvPlayer(video, options) {\n  const { flvOptions = {}, flvConfig = {} } = options\n  if (flvjs.isSupported()) {\n    const player = flvjs.createPlayer(\n      Object.assign(\n        {},\n        {\n          type: 'flv',\n          url: options.file,\n        },\n        flvOptions\n      ),\n      Object.assign(\n        {},\n        {\n          enableWorker: true,\n          // lazyLoad: false,\n          // Indicates how many seconds of data to be kept for lazyLoad.\n          // lazyLoadMaxDuration: 0,\n          // autoCleanupMaxBackwardDuration: 3,\n          // autoCleanupMinBackwardDuration: 2,\n          // autoCleanupSourceBuffer: true,\n          enableStashBuffer: false,\n          stashInitialSize: 128,\n          cors: true,\n          seekType: 'range',\n          isLive: options.isLive || true,\n        },\n        flvConfig\n      )\n    )\n    player.attachMediaElement(video)\n    player.load()\n\n    // 日志配置\n    flvjs.LoggingControl.enableError = window.zvpalyer.logError === false ? false : true\n    flvjs.LoggingControl.enableWarn = window.zvpalyer.logWarn || false\n    flvjs.LoggingControl.enableVerbose = window.zvpalyer.logDebug || false\n    flvjs.LoggingControl.enableDebug = window.zvpalyer.logDebug || false\n    flvjs.LoggingControl.enableInfo = window.zvpalyer.logDebug || false\n    flvjs.LoggingControl.forceGlobalTag = true\n    flvjs.LoggingControl.globalTag = \"ocean-player\"\n\n    return player\n  }\n}\n\n/**\n * 获取播放文件类型\n * @param {*} url\n */\nexport function getVideoType(url) {\n  return url.indexOf('.flv') > -1 ? 'flv' : url.indexOf('.m3u8') > -1 ? 'm3u8' : 'native'\n}\n\n/**\n * 播放时间转字符串\n * @param {*} second_time\n */\nexport function timeStamp(second_time) {\n  let time = Math.ceil(second_time)\n  if (time > 60) {\n    let second = Math.ceil(second_time % 60)\n    let min = Math.floor(second_time / 60)\n    time = `${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`\n    if (min > 60) {\n      min = Math.ceil((second_time / 60) % 60)\n      let hour = Math.floor(second_time / 60 / 60)\n      time = `${hour < 10 ? `0${hour}` : hour}:${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`\n    } else {\n      time = `00:${time}`\n    }\n  } else {\n    time = `00:00:${time < 10 ? `0${time}` : time}`\n  }\n\n  return time\n}\n\n/**\n * 日期格式化\n * @param {*} timetemp\n */\nexport function dateFormat(timetemp) {\n  const date = new Date(timetemp)\n  let YYYY = date.getFullYear()\n  let DD = date.getDate()\n  let MM = date.getMonth() + 1\n  let hh = date.getHours()\n  let mm = date.getMinutes()\n  let ss = date.getSeconds()\n  return `${YYYY}.${MM > 9 ? MM : '0' + MM}.${DD > 9 ? DD : '0' + DD} ${hh > 9 ? hh : '0' + hh}.${mm > 9 ? mm : '0' + mm}.${ss > 9 ? ss : '0' + ss}`\n}\n\n/**\n * 全屏\n * @param {*} element\n */\nexport function fullscreen(element) {\n  if (element.requestFullScreen) {\n    element.requestFullScreen()\n  } else if (element.webkitRequestFullScreen) {\n    element.webkitRequestFullScreen()\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen()\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen()\n  }\n}\n\n/**\n * exitFullscreen 退出全屏\n * @param  {Objct} element 选择器\n */\nexport function exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen()\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen()\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen()\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen()\n  }\n}\n\n/**\n * 判读是否支持全屏\n */\nexport function fullscreenEnabled() {\n  return document.fullscreenEnabled || document.mozFullScreenEnabled || document.webkitFullscreenEnabled || document.msFullscreenEnabled\n}\n\n/**\n * [isFullscreen 判断浏览器是否全屏]\n * @return [全屏则返回当前调用全屏的元素,不全屏返回false]\n */\nexport function isFullscreen(ele) {\n  if (!ele) {\n    return false\n  }\n  return document.fullscreenElement === ele || document.msFullscreenElement === ele || document.mozFullScreenElement === ele || document.webkitFullscreenElement === ele || false\n}\n// 添加 / 移除 全屏事件监听\nexport function fullScreenListener(isAdd, fullscreenchange) {\n  const funcName = isAdd ? 'addEventListener' : 'removeEventListener'\n  const fullScreenEvents = ['fullscreenchange', 'mozfullscreenchange', 'webkitfullscreenchange', 'msfullscreenchange']\n  fullScreenEvents.map((v) => document[funcName](v, fullscreenchange))\n}\n\n/**\n * 计算视频拖拽边界\n * @param {*} ele\n * @param {*} currentPosition\n * @param {*} scale\n */\nexport function computedBound(ele, currentPosition, scale) {\n  const data = currentPosition\n  const eleRect = ele.getBoundingClientRect()\n  const w = eleRect.width\n  const h = eleRect.height\n  let lx = 0,\n    ly = 0\n  if (scale === 1) {\n    return [0, 0]\n  }\n  lx = (w * (scale - 1)) / 2 / scale\n  ly = (h * (scale - 1)) / 2 / scale\n  let x = 0,\n    y = 0\n  if (data[0] >= 0 && data[0] > lx) {\n    x = lx\n  }\n  if (data[0] >= 0 && data[0] < lx) {\n    x = data[0]\n  }\n\n  if (data[0] < 0 && data[0] < -lx) {\n    x = -lx\n  }\n  if (data[0] < 0 && data[0] > -lx) {\n    x = data[0]\n  }\n\n  if (data[1] >= 0 && data[1] > ly) {\n    y = ly\n  }\n  if (data[1] >= 0 && data[1] < ly) {\n    y = data[1]\n  }\n\n  if (data[1] < 0 && data[1] < -ly) {\n    y = -ly\n  }\n  if (data[1] < 0 && data[1] > -ly) {\n    y = data[1]\n  }\n  if (x !== data[0] || y !== data[1]) {\n    return [x, y]\n  } else {\n    return\n  }\n}\n/**\n * \n * @returns 获取随机数\n */\nexport function getRandom() {\n  return Math.random().toString(36).substr(2)\n}\n\nexport function JSONP(url){\n  let script = document.createElement('script')//创建script标签\n  let functionName = 'fang' + parseInt(Math.random()*10000000,10)//设置调用函数名\n  window[functionName] = function(result){\n    if(result === 'success'){\n      amount.innerText = amount.innerText - 1\n    }\n  }\n  script.src = `${url}&callback=${functionName} `\n  document.body.appendChild(script)//将能实现发送跨域请求的script标签插入html\n  script.onload = function(e){\n    document.body.removeChild(script);\n    delete window[functionName]\n  }\n  script.onerror = function(){\n    console.warn('切换分辨率失败！')\n    document.body.removeChild(script);\n    delete window[functionName]\n  }\n  //完成传输后删除script标签\n}\n/**\n * 生成UUID\n */\n export function genuuid() {\n  let tid = [];\n  let hexDigits = '0123456789abcdef';\n  for (let i = 0; i < 36; i++) {\n    tid[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n  }\n\n  tid[14] = '4';\n  tid[19] = hexDigits.substr((tid[19] & 0x3) | 0x8, 1);\n  tid[8] = tid[13] = tid[18] = tid[23] = '-';\n\n  return tid.join('');\n}\n\n\n/**\n * 根据分屏获取对应的分辨率\n * 默认 960*544\n */\n export function getScreenRate(num){\n  const videoRatio = VIDEO_RESOLUTION\n  // 1、4、6、8、9、10、13、16\n  if(num < 4){\n    return videoRatio['5'].resolution\n  }else if(num < 9 && num >= 4){\n    return videoRatio['2'].resolution\n  }else if(num < 13 && num >= 9){\n    return videoRatio['4'].resolution\n  }else if(num <= 16 && num >= 13){\n    return videoRatio['3'].resolution\n  }else{\n    return videoRatio['5'].resolution\n  }\n}\n\n\n/**\n * 获取全局配置\n * @param {*} key \n */\n export function getGlobalCache(key){\n  const strS = localStorage.getItem('PY_PLUS')\n  let playerOptions = null\n\n  try {\n    playerOptions = JSON.parse(strS);\n  } catch (error) {\n    console.error(PY_M_CC_NAME)\n    return ''\n  }\n\n  return playerOptions ? playerOptions[key] : ''\n}\n\n/**\n * 随机获取端口号\n * @returns \n */\nexport function getLocalPort(){\n  return LOCAL_PORT[Math.floor(Math.random()*LOCAL_PORT.length)]\n}\n\n/**\n * 获取系统版本\n * @returns \n */\n export function getAppPlayerVersion(){\n  return sessionStorage.getItem('_APP_PLAY_VERSION')\n}\n\n/**\n * 通过本地存储进行播放类型检测\n * @returns \n */\nexport function detectorPlayeMode(){\n  const isPlus = getGlobalCache('mode')\n  sessionStorage.setItem('_TEMP_PLAY_MODE', isPlus)\n  // 是否本地插件播放 0是互联网模式，不走插件\n  return isPlus\n}\n/**\n * 解析本地是否安装\n */\nexport function installState(callback){\n  // 进行类型检测 是否插件模式\n  if (!detectorPlayeMode()) return;\n\n  if(sessionStorage.getItem('_TEMP_PLAY_CODE') == '10000') return;\n  // 进行本地检测\n  const port = getLocalPort()\n  httpx.get(`${hostUrl}:${port}/video/v1/state`, function(respondData) {\n    let res = {}\n    try{\n      res = JSON.parse(respondData)\n      if(res.code == 200){\n        sessionStorage.setItem('_TEMP_PLAY_VERSION', res.version)\n        if(getAppPlayerVersion() != res.version){\n          sessionStorage.setItem('_TEMP_PLAY_CODE','10001')\n          throw `检测到版本${res.version}与应用系统版本不匹配，请检查`\n        }else{\n          sessionStorage.setItem('_TEMP_PLAY_CODE','10000')\n        }\n      }else{\n        sessionStorage.setItem('_TEMP_PLAY_CODE','10002')\n        throw res.message || ''\n      }\n    }catch(err){\n      console.log('插件初始化失败，请联系管理员！'+ err)\n    }\n    callback && callback()\n}, function(method, url) {\n  console.log('未安装插件！！！')\n  sessionStorage.setItem('_TEMP_PLAY_CODE','20000')\n  callback && callback()\n});\n}\n\n\n/**\n * 客户端插件访问入口\n * @param {*} url \n * @param {*} resolution \n * @param {*} onToken \n * @returns \n */\nexport function tansCodingToUrl(player, onToken){\n  \n  let param1 = ''\n  let param2 = ''\n  let param3 = ''\n  let param4 = ''\n\n  let {file, resolution, deviceInfo} = player\n\n  const key = genuuid()\n\n  // 进行类型检测 是否插件模式\n  if (!detectorPlayeMode()) return file\n\n  // 是否加密\n  file = file + getGlobalCache(GL_CACHE.DM)\n\n  const url_info ={\n      port: getLocalPort(),\n      pull_uri: BASE64.encode(file)?.replaceAll('=','')?.replaceAll('/','_')?.replaceAll('+','-')\n  }\n  // 分辨率，如果为空，为原始分辨率\n\n  param2 = '&token=' + key\n\n  // 免责工具使用\n  onToken && onToken(key)\n\n  if(resolution){\n    param1 = '&resolution=' + resolution\n\n    // 码率\n    param3 = '&bitrate=' + findVideoAttribute(resolution,'bitrate')\n\n  }\n  \n  // value: \"100602\", label: \"球机\"\n  if(deviceInfo && deviceInfo.type == \"100602\"){\n    param4 = '&quickplay=0'\n  }\n  console.log(file+param1+param3+param4)\n\n  return lcStore.getTranscodingStream.value.replace('<pull_uri>', url_info.pull_uri).replace('<port>', url_info.port) + param1 + param2 + param3 + param4\n}\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport './style/iconfont.less'\n\nexport default function IconFont({ type, className = '', ...props }) {\n  return <i className={`lm-player-iconfont ${type} ${className}`} {...props} />\n}\n\nIconFont.propTypes = {\n  type: PropTypes.string,\n  className: PropTypes.string\n}\n","import React, { useEffect, useRef } from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport './style/slider.less'\n\nclass Slider extends React.Component {\n  constructor(props) {\n    super(props)\n    this.sliderDomRef = React.createRef()\n    this.layoutDom = null\n    this.lineDom = null\n    this.dragDom = null\n    this.dragFlag = false\n    this.state = {\n      value: this.props.currentPercent || 0,\n      tempValue: 0,\n      showTips: false,\n      tipsX: 0,\n      tipsY: 0\n    }\n  }\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (!this.dragFlag) {\n      this.setState({ value: nextProps.currentPercent || 0 })\n    }\n  }\n  componentDidMount() {\n    this.layoutDom = this.sliderDomRef.current\n    this.dragDom = this.layoutDom.querySelector('.drag-change-icon')\n    this.lineDom = this.layoutDom.querySelector('.slider-content')\n\n    this.layoutDom.addEventListener('mousemove', this.renderSliderTips, false)\n    this.layoutDom.addEventListener('mouseout', this.hideSliderTips, false)\n    this.lineDom.addEventListener('click', this.changeCurrentValue, false)\n    this.dragDom.addEventListener('click', this.cancelPropagation, false)\n    this.dragDom.addEventListener('mousedown', this.startDrag, false)\n  }\n  componentWillUnmount() {\n    clearTimeout(this.timer)\n    this.layoutDom.removeEventListener('mousemove', this.renderSliderTips, false)\n    this.layoutDom.removeEventListener('mouseout', this.hideSliderTips, false)\n    this.lineDom.removeEventListener('click', this.changeCurrentValue, false)\n    this.dragDom.removeEventListener('click', this.cancelPropagation, false)\n    this.dragDom.removeEventListener('mousedown', this.startDrag, false)\n\n    document.body.removeEventListener('mousemove', this.moveChange)\n    document.body.removeEventListener('mouseup', this.stopDrag)\n\n    this.sliderDomRef = null\n    this.layoutDom = null\n    this.lineDom = null\n    this.dragDom = null\n    this.dragFlag = null\n  }\n  renderSliderTips = e => {\n    const { renderTips } = this.props\n    if (!renderTips) {\n      return\n    }\n    clearTimeout(this.timer)\n    this.timer = setTimeout(() => {\n      const { x, width, top } = this.layoutDom.getBoundingClientRect()\n      const tipsX = e.pageX - x\n      let percent = (e.pageX - x) / width\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent\n      this.setState({ tipsX, tipsY: top, showTips: true, tempValue: percent })\n    }, 200)\n  }\n  hideSliderTips = () => {\n    clearTimeout(this.timer)\n    this.setState({ showTips: false })\n  }\n  cancelPropagation = e => {\n    e.stopPropagation()\n  }\n  startDrag = e => {\n    e.stopPropagation()\n    this.dragFlag = true\n    document.body.addEventListener('mousemove', this.moveChange)\n    document.body.addEventListener('mouseup', this.stopDrag)\n  }\n  moveChange = e => {\n    e.stopPropagation()\n    const percent = this.computedPositionForEvent(e)\n    this.setState({ value: percent })\n  }\n  stopDrag = e => {\n    e.stopPropagation()\n    document.body.removeEventListener('mousemove', this.moveChange)\n    document.body.removeEventListener('mouseup', this.stopDrag)\n    this.dragFlag = false\n    let percent = this.state.value / 100\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent\n    this.props.onChange && this.props.onChange(percent)\n  }\n  computedPositionForEvent(e) {\n    const { x, width } = this.layoutDom.getBoundingClientRect()\n    const { pageX } = e\n    let dx = pageX - x\n    if (dx > width) {\n      dx = width\n    }\n    if (dx < 0) {\n      dx = 0\n    }\n    return (dx / width) * 100\n  }\n  changeCurrentValue = event => {\n    event.stopPropagation()\n    const { width, x } = this.layoutDom.getBoundingClientRect()\n    let percent = (event.pageX - x) / width\n    this.props.onChange && this.props.onChange(percent)\n  }\n  render() {\n    const { value, showTips, tipsX } = this.state\n    const { availablePercent = 0, className = '', tipsY } = this.props\n    return (\n      <div className={`slider-layout ${className}`} ref={this.sliderDomRef}>\n        <div className=\"slider-content\">\n          <div className=\"slider-max-line\" />\n          <div className=\"slider-visibel-line\" style={{ width: `${availablePercent}%` }} />\n          <div className=\"slider-current-line\" style={{ width: `${value}%` }} />\n          {this.props.children}\n        </div>\n        <div className=\"slider-other-content\">\n          <div className=\"drag-change-icon\" draggable={false} style={{ left: `${value}%` }} />\n        </div>\n        <Tips visibel={showTips} className=\"lm-player-slide-tips\" style={{ left: tipsX, top: tipsY }} getContainer={() => this.sliderDomRef.current}>\n          {this.props.renderTips && this.props.renderTips(this.state.tempValue)}\n        </Tips>\n      </div>\n    )\n  }\n}\n\nSlider.propTypes = {\n  currentPercent: PropTypes.number,\n  seekTo: PropTypes.func,\n  video: PropTypes.element,\n  renderTips: PropTypes.func,\n  availablePercent: PropTypes.number,\n  onChange: PropTypes.func,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  tipsY: PropTypes.number\n}\nSlider.defaultProps = {\n  tipsY: -10\n}\n\nfunction Tips({ getContainer, visibel, children, style, className = '' }) {\n  const ele = useRef(document.createElement('div'))\n  useEffect(() => {\n    const box = getContainer ? getContainer() || document.body : document.body\n    box.appendChild(ele.current)\n    return () => box.removeChild(ele.current)\n  }, [getContainer])\n\n  if (!visibel) {\n    return null\n  }\n  return ReactDOM.createPortal(\n    <div className={className} style={style}>\n      {children}\n    </div>,\n    ele.current\n  )\n}\n\nTips.propTypes = {\n  visibel: PropTypes.bool,\n  children: PropTypes.element,\n  style: PropTypes.any,\n  className: PropTypes.string\n}\n\nexport default Slider\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default function Bar({ visibel = true, className = '', children, ...props }) {\n  if (visibel === false) {\n    return null\n  }\n  return (\n    <span className={`contraller-bar-item ${className}`} {...props}>\n      {children}\n    </span>\n  )\n}\n\nBar.propTypes = {\n  visibel: PropTypes.bool,\n  className: PropTypes.string,\n  children: PropTypes.any\n}\n","export default {\n  RELOAD: \"reload\", //手动视频重载\n  RELOAD_FAIL: \"reloadFail\", // 视频出错，重连失败\n  RELOAD_SUCCESS: \"reloadSuccess\", //视频出错，重连成功\n  ERROR: \"error\", //视频出错\n  ERROR_RELOAD: \"errorRload\", //视频出错，自动重连\n  HISTORY_PLAY_END: \"historyPlayEnd\", //历史视频列表播放结束\n  SEEK: \"seek\", //跳跃播放时间\n  TRANSFORM: \"transform\", //视频容器缩放\n  CHANGE_PLAY_INDEX: \"changePlayIndex\", //历史视频列表播放索引改变\n  HIDE_CONTRALLER:\"hideContraller\",\n  SHOW_CONTRALLER:\"showContraller\",\n  CLEAR_ERROR_TIMER:\"clearErrorTimer\"\n};\n","import React, { useState, useEffect, useCallback, useMemo } from 'react'\nimport IconFont from '../iconfont'\nimport Slider from '../slider'\nimport Bar from './bar'\nimport EventName from '../event/eventName'\nimport PropTypes from 'prop-types'\n\nfunction LeftBar({ api, event, video, isHistory, reloadHistory, isLive, leftExtContents, leftMidExtContents }) {\n  const [openSliderVolume, setOpenSliderVolume] = useState(false)\n  const [dep, setDep] = useState(Date.now())\n  useEffect(() => {\n    const updateRender = () => {\n      setDep(Date.now())\n    }\n    event.addEventListener('play', updateRender)\n    event.addEventListener('pause', updateRender)\n    event.addEventListener('volumechange', updateRender)\n\n    return () => {\n      event.removeEventListener('play', updateRender)\n      event.removeEventListener('pause', updateRender)\n      event.removeEventListener('volumechange', updateRender)\n    }\n  }, [event])\n\n  //缓存值\n  const paused = useMemo(() => video.paused, [dep, video])\n  const statusIconClassName = useMemo(() => (paused ? 'lm-player-Play_Main' : 'lm-player-Pause_Main'), [paused])\n  const statusText = useMemo(() => (paused ? '播放' : '暂停'), [paused])\n  const volumeVal = useMemo(() => (video.muted ? 0 : video.volume), [dep, video])\n  const volumeIcon = useMemo(() => (volumeVal === 0 ? 'lm-player-volume-close' : video.volume === 1 ? 'lm-player-volume-max' : 'lm-player-volume-normal-fuben'), [volumeVal])\n  const volumePercent = useMemo(() => (volumeVal === 0 ? 0 : volumeVal * 100), [volumeVal])\n  const sliderClassName = useMemo(() => (openSliderVolume ? 'contraller-bar-hover-volume' : ''), [openSliderVolume])\n\n  //TODO 方法\n  const changePlayStatus = useCallback(() => (video.paused ? api.play() : api.pause()), [video, api])\n\n  const mutedChantgeStatus = useCallback(() => (video.muted ? api.unmute() : api.mute()), [api, video])\n\n  const onChangeVolume = useCallback(\n    volume => {\n      api.setVolume(parseFloat(volume.toFixed(1)))\n      volume > 0 && video.muted && api.unmute()\n    },\n    [api, video]\n  )\n\n  const reload = useCallback(() => {\n    isHistory ? reloadHistory() : api.reload()\n    event.emit(EventName.CLEAR_ERROR_TIMER)\n  }, [event, isHistory, api])\n\n  return (\n    <div className=\"contraller-left-bar\">\n      {leftExtContents}\n      <Bar visibel={!isLive}>\n        <IconFont onClick={changePlayStatus} type={statusIconClassName} title={statusText} />\n      </Bar>\n      <Bar className={`contraller-bar-volume ${sliderClassName}`} onMouseOver={() => setOpenSliderVolume(true)} onMouseOut={() => setOpenSliderVolume(false)}>\n        <IconFont onClick={mutedChantgeStatus} type={volumeIcon} title=\"音量\" />\n        <div className=\"volume-slider-layout\">\n          <Slider className=\"volume-slider\" currentPercent={volumePercent} onChange={onChangeVolume} renderTips={precent => <span>{Math.round(precent * 100)}%</span>} tipsY={-2} />\n        </div>\n      </Bar>\n      <Bar>\n        <IconFont onClick={reload} type=\"lm-player-Refresh_Main\" title=\"重载\" />\n      </Bar>\n      {leftMidExtContents}\n    </div>\n  )\n}\n\nLeftBar.propTypes = {\n  api: PropTypes.object,\n  event: PropTypes.object,\n  playerProps: PropTypes.object,\n  video: PropTypes.node,\n  reloadHistory: PropTypes.func,\n  isHistory: PropTypes.bool\n}\n\nexport default LeftBar\n","import React, { useMemo,useState } from 'react'\r\nimport IconFont from '../iconfont'\r\nimport Bar from './bar'\r\nimport { Slider } from 'antd'\r\n\r\nfunction ColorPicker({ playContainer, api, colorfilter }) {\r\n  const [brightnessValue, setBrightnessValue] = useState(50)\r\n  const [contrastValue, setContrastValue] = useState(50)\r\n  const [saturateValue, setSaturateValue] = useState(50)\r\n  const [hueValue, setHueValue] = useState(0)\r\n\r\n  const brightness = useMemo(() => {\r\n      const cv = brightnessValue/50\r\n      if(cv == 1) return ''\r\n      return `brightness(${cv})`\r\n  }, [brightnessValue]);\r\n\r\n  \r\n  const contrast = useMemo(() => {\r\n    const cv = contrastValue/50\r\n    if(cv == 1) return ''\r\n    return `contrast(${cv})`\r\n   }, [contrastValue]);\r\n\r\n   const saturate = useMemo(() => {\r\n    const cv = saturateValue/50\r\n    if(cv == 1) return ''\r\n    return `saturate(${cv})`\r\n   }, [saturateValue]);\r\n\r\n   const hue = useMemo(() => {\r\n    const cv = hueValue\r\n    if(cv == 0) return ''\r\n    return `hue-rotate(${cv}deg)`\r\n   }, [hueValue]);\r\n\r\n  const handleAllChange = data => {\r\n    colorfilter && colorfilter({\r\n        '-webkit-filter': `${brightness} ${contrast} ${saturate} ${hue}`,\r\n    })\r\n  }\r\n\r\n  const handleBrightnessChange = data => {\r\n    setBrightnessValue(data)\r\n    handleAllChange()\r\n  }\r\n\r\n  const handleContrastChange = data => {\r\n    setContrastValue(data)\r\n    handleAllChange()\r\n  }\r\n\r\n  const handleSaturateChange = data => {\r\n    setSaturateValue(data)\r\n    handleAllChange()\r\n  }\r\n\r\n  const handleHueChange = data => {\r\n    setHueValue(data)\r\n    handleAllChange()\r\n  }\r\n\r\n  const handleResetChange = data => {\r\n    setBrightnessValue(50)\r\n    setContrastValue(50)\r\n    setSaturateValue(50)\r\n    setHueValue(0)\r\n    colorfilter({})\r\n  }\r\n\r\n  return (\r\n    <Bar className={'colorPicker'}>\r\n      <IconFont title={'画面设置'} type={'lm-player-S_Device_shezhi'} />\r\n      <div class=\"colorPicker-container\">\r\n        <span> 视频画面设置 </span> <span className='colorPicker-reset' onClick={handleResetChange}>&nbsp;<IconFont title={'重置'} type={'lm-player-Refresh_Main'} />重置 </span> \r\n        <div className=\"colorPicker-container-control\">\r\n          <span> 亮度 </span> <Slider min={0} max={100} onChange={handleBrightnessChange} value={ brightnessValue }  /><span> {brightnessValue} </span>\r\n        </div>\r\n        <div className=\"colorPicker-container-control\">\r\n          <span> 对比度 </span> <Slider min={0} max={100} onChange={handleContrastChange} value={ contrastValue }  /><span> {contrastValue} </span>\r\n        </div>\r\n        <div className=\"colorPicker-container-control\">\r\n          <span> 饱和度 </span> <Slider min={0} max={100} onChange={handleSaturateChange} value={ saturateValue }  /><span> {saturateValue} </span>\r\n        </div>\r\n        <div className=\"colorPicker-container-control hue-horizontal\">\r\n          <span> 色调 </span> <Slider min={0} max={360} onChange={handleHueChange} value={ hueValue } /><span> {hueValue} </span>\r\n        </div>\r\n      </div>\r\n    </Bar>\r\n  )\r\n}\r\n\r\nexport default ColorPicker\r\n","import React, { useState, useMemo, useEffect, useCallback } from 'react'\nimport IconFont from '../iconfont'\nimport Bar from './bar'\nimport { isFullscreen, fullScreenListener, computedBound, findVideoAttribute, getScreenRate, getGlobalCache} from '../util'\nimport {VIDEO_RESOLUTION, GL_CACHE} from '../constant'\nimport PropTypes from 'prop-types'\nimport ColorPicker from './colorPicker'\n\nfunction RightBar({ playContainer, api, scale, snapshot, rightExtContents, rightMidExtContents, isLive, switchResolution, colorPicker}) {\n  const [dep, setDep] = useState(Date.now())\n\n  // 获取视频分辨率\n  const ratioValue = VIDEO_RESOLUTION\n  // 分辨率-默认显示\n  const [viewText, setViewText] = useState(findVideoAttribute(api.getResolution(),'name'));\n\n  // 控制调色盘显示\n  const isPalette = getGlobalCache(GL_CACHE.PT) || false\n  // 控制分辨率显示\n  const isSwithRate = getGlobalCache(GL_CACHE.SR) || false\n\n  useEffect(() => {\n    const update = () => setDep(Date.now())\n    fullScreenListener(true, update)\n    return () => fullScreenListener(false, update)\n  }, [])\n\n  const isfull = useMemo(() => isFullscreen(playContainer), [dep, playContainer])\n\n  const fullscreen = useCallback(() => {\n    const isFullScreen = !isFullscreen(playContainer)\n    \n    if(isFullScreen){\n      api.requestFullScreen()\n      switchResolution && switchResolution('')\n      setViewText(findVideoAttribute('','name'))\n    }else{\n      api.cancelFullScreen()\n      switchResolution && switchResolution(getScreenRate(api.getCurrentScreen()))\n      setViewText(findVideoAttribute(getScreenRate(api.getCurrentScreen()),'name'))\n    }\n\n    // 设置对应的分辨率名称\n    setDep(Date.now())\n  }, [api, playContainer])\n\n  const setScale = useCallback(\n    (...args) => {\n      const dragDom = playContainer.querySelector('.player-mask-layout')\n      api.setScale(...args)\n      let position = computedBound(dragDom, api.getPosition(), api.getScale())\n      if (position) {\n        api.setPosition(position, true)\n      }\n    },\n    [api, playContainer]\n  )\n\n  const setRatio = useCallback((...args) => {\n      setViewText(ratioValue[args].name)\n      switchResolution && switchResolution(ratioValue[args].resolution)\n    },[api])\n\n  return (\n    <div className=\"contraller-right-bar\">\n      {rightMidExtContents}\n      {scale && (\n        <>\n          <Bar>\n            <IconFont title=\"缩小\" onClick={() => setScale(-0.2)} type={'lm-player-ZoomOut_Main'} />\n          </Bar>\n          <Bar>\n            <IconFont title=\"复位\" onClick={() => setScale(1, true)} type={'lm-player-ZoomDefault_Main'} />\n          </Bar>\n          <Bar>\n            <IconFont title=\"放大\" onClick={() => setScale(0.2)} type={'lm-player-ZoomIn_Main'} />\n          </Bar>\n        </>\n      )}\n      {isPalette && (<ColorPicker colorfilter={colorPicker}></ColorPicker>)}\n      {isLive && isSwithRate && (\n        <Bar className={'fl-menu'}>\n            <span class='fl-menu-main'>{viewText}</span>\n            <ul class=\"fl-menu-level\">\n              {\n                Object.keys(ratioValue).map((item)=>(\n                  ratioValue[item].show && (<li class=\"fl-menu-level-1\" onClick={() => setRatio(item)}>{ratioValue[item].name}</li>) \n                ))\n              }\n            </ul>\n        </Bar>\n      )}\n      \n      {snapshot && (\n        <Bar>\n          <IconFont title=\"截图\" onClick={() => snapshot(api.snapshot())} type=\"lm-player-SearchBox\" />\n        </Bar>\n      )}\n\n      <Bar>\n        <IconFont title={isfull ? '窗口' : '全屏'} onClick={fullscreen} type={isfull ? 'lm-player-ExitFull_Main' : 'lm-player-Full_Main'} />\n      </Bar>\n      {rightExtContents}\n    </div>\n  )\n}\n\nRightBar.propTypes = {\n  api: PropTypes.object,\n  event: PropTypes.object,\n  playerProps: PropTypes.object,\n  playContainer: PropTypes.node,\n  reloadHistory: PropTypes.func,\n  isHistory: PropTypes.bool,\n}\nexport default RightBar\n","import React, { useCallback } from 'react'\nimport IconFont from '../iconfont'\nimport Bar from './bar'\nimport { computedBound } from '../util'\n\nfunction ScaleBar({ playContainer, api, scale }) {\n  const setScale = useCallback(\n    (...args) => {\n      const dragDom = playContainer.querySelector('.player-mask-layout')\n      api.setScale(...args)\n      let position = computedBound(dragDom, api.getPosition(), api.getScale())\n      if (position) {\n        api.setPosition(position, true)\n      }\n    },\n    [api, playContainer]\n  )\n\n  return (\n    <div className=\"contraller-scale-bar\">\n      {scale && (\n        <>\n          <Bar>\n            <IconFont title=\"缩小\" onClick={() => setScale(-0.2)} type={'lm-player-ZoomOut_Main'} />\n          </Bar>\n          <Bar>\n            <IconFont title=\"复位\" onClick={() => setScale(1, true)} type={'lm-player-ZoomDefault_Main'} />\n          </Bar>\n          <Bar>\n            <IconFont title=\"放大\" onClick={() => setScale(0.2)} type={'lm-player-ZoomIn_Main'} />\n          </Bar>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default ScaleBar\n","import React from 'react'\nimport LeftBar from './left_bar'\nimport RightBar from './right_bar'\nimport PropTypes from 'prop-types'\nimport ScaleBar from './scale_bar'\nimport '../style/bar.less'\n\nfunction ContrallerBar({\n  playContainer,\n  snapshot,\n  switchResolution,\n  rightExtContents,\n  rightMidExtContents,\n  scale,\n  visibel,\n  api,\n  event,\n  video,\n  isHistory,\n  reloadHistory,\n  isLive,\n  leftExtContents,\n  leftMidExtContents,\n  colorPicker,\n}) {\n  return (\n    <>\n      <div className={`contraller-bar-layout ${!visibel ? 'hide-contraller-bar' : ''}`}>\n        <LeftBar\n          api={api}\n          event={event}\n          video={video}\n          isHistory={isHistory}\n          reloadHistory={reloadHistory}\n          isLive={isLive}\n          leftMidExtContents={leftMidExtContents}\n          leftExtContents={leftExtContents}\n        />\n        <RightBar\n          api={api}\n          event={event}\n          isLive={isLive}\n          playContainer={playContainer}\n          snapshot={snapshot}\n          colorPicker={colorPicker}\n          switchResolution={switchResolution}\n          rightExtContents={rightExtContents}\n          rightMidExtContents={rightMidExtContents}\n        />\n      </div>\n      <div className={`contraller-scale-layout ${!visibel ? 'hide-contraller-bar' : ''}`}>\n        <ScaleBar api={api} playContainer={playContainer} scale={scale} />\n      </div>\n    </>\n  )\n}\n\nContrallerBar.propTypes = {\n  visibel: PropTypes.bool,\n}\n\nexport default ContrallerBar\n","import React, { useEffect, useState, useRef } from 'react'\nimport EventName from './eventName'\n\nfunction ContrallerEvent({ event, playContainer, children }) {\n  const timer = useRef(null)\n  const [visibel, setVisibel] = useState(true)\n  useEffect(() => {\n    const showContraller = () => {\n      setVisibel(true)\n      hideContraller()\n      event.emit(EventName.SHOW_CONTRALLER)\n    }\n    const hideContraller = () => {\n      clearTimeout(timer.current)\n      timer.current = setTimeout(() => {\n        setVisibel(false)\n        event.emit(EventName.HIDE_CONTRALLER)\n      }, 3 * 1000)\n    }\n    playContainer.addEventListener('mousemove', showContraller, false)\n    playContainer.addEventListener('mouseout', hideContraller, false)\n\n    return () => {\n      playContainer.removeEventListener('mousemove', showContraller, false)\n      playContainer.removeEventListener('mouseout', hideContraller, false)\n    }\n  }, [])\n\n  return React.Children.map(children, child => (React.isValidElement(child) ? React.cloneElement(child, { visibel }) : child))\n}\n\nexport default ContrallerEvent\n","import React, { useEffect, useState, useMemo } from 'react'\nimport IconFont from './iconfont'\nimport EventName from './event/eventName'\nimport './style/message.less'\n\nfunction VideoMessage({ event, api , setStreamState}) {\n  const [state, setState] = useState({ status: null, errorTimer: null, loading: false })\n\n  const message = useMemo(() => {\n    if (!state.status) {\n      return ''\n    }\n    if (state.status === 'fail') {\n      return '视频错误'\n    }\n    if (state.status === 'reload') {\n      if (!state.errorTimer) {\n        return `视频加载错误，正在进行重连...`\n      }\n      return `视频加载错误，正在进行重连第${state.errorTimer}次重连`\n    }\n  }, [state.errorTimer, state.status])\n\n  useEffect(() => {\n    const openStartLoading = () => setState((old) => ({ ...old, loading: true }))\n    const openWaitLoading = () => setState((old) => ({ ...old }))\n    const openSeekLoading = () => setState((old) => ({ ...old, loading: true }))\n    const canplayLoading = () => (setState((old) => ({ ...old, loading: false })), setStreamState && setStreamState(1))\n    const closeLoading = () => setState((old) => ({ ...old, loading: false }))\n    const errorReload = (timer) => setState(() => ({ status: 'reload', errorTimer: timer, loading: true }))\n    const reloadFail = () => setState((old) => ({ ...old, status: 'fail', loading: false }))\n    const reloadSuccess = () => setState((old) => ({ ...old, status: null, loading: false }))\n    const reload = () => setState((old) => ({ ...old, status: 'reload', loading: true }))\n    const playEnd = () => (setState((old) => ({ ...old, status: null, loading: false })), api.pause())\n\n    event.addEventListener('loadstart', openStartLoading)\n    event.addEventListener('waiting', openWaitLoading)\n    event.addEventListener('seeking', openSeekLoading)\n    event.addEventListener('loadeddata', closeLoading)\n    event.addEventListener('canplay', canplayLoading)\n    event.on(EventName.ERROR_RELOAD, errorReload)\n    event.on(EventName.RELOAD_FAIL, reloadFail)\n    event.on(EventName.RELOAD_SUCCESS, reloadSuccess)\n    event.on(EventName.RELOAD, reload)\n    event.on(EventName.HISTORY_PLAY_END, playEnd)\n    event.on(EventName.CLEAR_ERROR_TIMER, reloadSuccess)\n\n    return () => {\n      event.removeEventListener('loadstart', openStartLoading)\n      event.removeEventListener('waiting', openWaitLoading)\n      event.removeEventListener('seeking', openSeekLoading)\n      event.removeEventListener('loadeddata', closeLoading)\n      event.removeEventListener('canplay', canplayLoading)\n      event.off(EventName.ERROR_RELOAD, errorReload)\n      event.off(EventName.RELOAD_FAIL, reloadFail)\n      event.off(EventName.RELOAD_SUCCESS, reloadSuccess)\n      event.off(EventName.RELOAD, reload)\n      event.off(EventName.HISTORY_PLAY_END, playEnd)\n      event.off(EventName.CLEAR_ERROR_TIMER, reloadSuccess)\n    }\n  }, [event])\n\n  const { loading, status } = state\n  return (\n    <div className={`lm-player-message-mask ${loading || status === 'fail' ? 'lm-player-mask-loading-animation' : ''}`}>\n      <IconFont\n        type={status === 'fail' ? 'lm-player-YesorNo_No_Dark' : 'lm-player-Loading'}\n        className={`${loading && status !== 'fail' ? 'lm-player-loading-animation' : status === 'fail' ? 'lm-player-loadfail' : ''} lm-player-loading-icon`}\n      />\n      <span className=\"lm-player-message\">{message}</span>\n    </div>\n  )\n}\n\nexport const NoSource = ({ install }) => {\n  const _TEMP_PLAY_CODE = sessionStorage.getItem('_TEMP_PLAY_CODE')\n  // const _TEMP_PLAY_PATH = sessionStorage.getItem('_TEMP_PLAY_PATH')\n  const _APP_PLAY_VERSION  = sessionStorage.getItem('_APP_PLAY_VERSION')\n  const _TEMP_PLAY_PATH = window.BSConfig?.playerDownloadUrl || localStorage.getItem('ZVPlayerUrl')\n  return (\n    <div className=\"lm-player-message-mask lm-player-mask-loading-animation\">\n      <IconFont style={{ fontSize: 80 }} type=\"lm-player-PlaySource\" title=\"请选择视频源\"></IconFont>\n      {_TEMP_PLAY_CODE == '20000' && (\n        <span\n          className=\"lm-player-message\"\n        >\n          请\n          <a className=\"install-link\"\n            target=\"_blank\"\n            href={_TEMP_PLAY_PATH}\n            style={{ pointerEvents: 'all', textDecoration: 'none' }}\n            download=\"ZVPlayer.exe\"\n            rel=\"noopener noreferrer\"\n          >下载</a>播放插件\n        </span>\n      )}\n      {_TEMP_PLAY_CODE == '10001' && (\n        <span\n          className=\"lm-player-message\"\n        >\n          当前播放插件版本低，建议您升级最新版本\n          <a target=\"_blank\"\n          href={_TEMP_PLAY_PATH}\n          style={{ pointerEvents: 'all', textDecoration: 'none' }}\n          download=\"ZVPlayer.exe\"\n          rel=\"noopener noreferrer\"className=\"install-link\">{_APP_PLAY_VERSION}</a>\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport default VideoMessage\n","import React, { useEffect, useState, useMemo, useCallback } from 'react'\nimport IconFont from './iconfont'\nimport Slider from './slider'\nimport { timeStamp } from './util'\nimport './style/time-line.less'\n\nfunction TineLine({ event, api, visibel }) {\n  const [state, setState] = useState({ duration: 0, currentTime: 0, buffered: 0 })\n\n  useEffect(() => {\n    const getDuration = () => setState((old) => ({ ...old, duration: api.getDuration() }))\n    const getCurrentTime = () => setState((old) => ({ ...old, currentTime: api.getCurrentTime(), buffered: api.getSecondsLoaded() }))\n    const getBuffered = () => setState((old) => ({ ...old, buffered: api.getSecondsLoaded() }))\n    const seekendPlay = () => api.play()\n\n    event.addEventListener('loadedmetadata', getDuration)\n    event.addEventListener('durationchange', getDuration)\n    event.addEventListener('timeupdate', getCurrentTime)\n    event.addEventListener('progress', getBuffered)\n    event.addEventListener('suspend', getBuffered)\n    event.addEventListener('seeked', seekendPlay)\n\n    return () => {\n      event.removeEventListener('loadedmetadata', getDuration)\n      event.removeEventListener('durationchange', getDuration)\n      event.removeEventListener('timeupdate', getCurrentTime)\n      event.removeEventListener('progress', getBuffered)\n      event.removeEventListener('suspend', getBuffered)\n      event.removeEventListener('seeked', seekendPlay)\n    }\n  }, [event, api])\n\n  const { duration, currentTime, buffered } = state\n  const playPercent = useMemo(() => Math.round((currentTime / duration) * 100), [currentTime, duration])\n  const bufferedPercent = useMemo(() => Math.round((buffered / duration) * 100), [buffered, duration])\n\n  const changePlayTime = useCallback(\n    (percent) => {\n      const currentTime = percent * duration\n      api.pause()\n      api.seekTo(currentTime)\n      setState((old) => ({ ...old, currentTime }))\n    },\n    [duration, api]\n  )\n\n  const renderTimeLineTips = (percent) => {\n    const currentTime = percent * duration\n    const time = timeStamp(currentTime)\n    return <span>{time}</span>\n  }\n\n  return (\n    <div className={`video-time-line-layout ${!visibel ? 'hide-time-line' : ''}`}>\n      <IconFont type=\"lm-player-PrevFast\" onClick={() => api.backWind()} className=\"time-line-action-item\" />\n      <Slider className=\"time-line-box\" currentPercent={playPercent} availablePercent={bufferedPercent} onChange={changePlayTime} renderTips={renderTimeLineTips} />\n      <IconFont type=\"lm-player-NextFast_Light\" onClick={() => api.fastForward()} className=\"time-line-action-item\" />\n    </div>\n  )\n}\n\nexport default TineLine\n","import React, { useState, useEffect, useRef } from 'react'\n\nfunction ErrorEvent({api, event, flv, hls, errorNoticeHandle }) {\n  const errorInfo = useRef(null)\n  /**\n    * 流播放，出错情况捕获\n    * @param  {...any} args \n    * @returns \n  */\n  const errorHandle = (...args) => {\n    console.error(...args)\n    if (args[2] && args[2].msg && args[2].msg.includes('Unsupported audio')) {\n      return\n    }\n\n    if(args[1] && args[1].details && (\n      args[1].details.includes(\"bufferStalledError\") || \n      args[1].details.includes(\"bufferNudgeOnStall\") || \n      args[1].details.includes(\"bufferSeekOverHole\") || \n      args[1].details.includes(\"bufferAddCodecError\") \n    )){\n      return\n    }\n    errorInfo.current = args\n    api.unload()\n    errorNoticeHandle && errorNoticeHandle()\n  }\n\n  useEffect(() => {\n    try {\n      if (flv) {\n        flv.on('error', errorHandle)\n        flv.on('media_source_buffer_full', errorHandle);\n        flv.on('media_source_ended', errorHandle)\n      }\n      if (hls) {\n        hls.on('hlsError', errorHandle)\n      }\n    } catch (e) {\n      console.warn(e)\n    }\n     \n    event.addEventListener('error', errorHandle, false)\n    return () => {\n      try {\n        if (flv) {\n          flv.off('error', errorHandle)\n          flv.off('media_source_buffer_full', errorHandle)\n          flv.off('media_source_ended', errorHandle)\n        }\n        if (hls) {\n          hls.off('hlsError', errorHandle)\n        }\n      } catch (e) {\n        console.warn(e)\n      }\n      event.removeEventListener('error', errorHandle, false)\n    }\n  }, [event, flv, hls])\n\n  return <></>\n}\n\nexport default ErrorEvent\n","import React from 'react'\nimport { computedBound } from '../util'\nimport PropTypes from 'prop-types'\n\nclass DragEvent extends React.Component {\n  constructor(props) {\n    super(props)\n    const { playContainer } = props\n\n    this.dragDom = playContainer.querySelector('.player-mask-layout')\n    this.position = {\n      start: [0, 0],\n      end: [0, 0]\n    }\n  }\n  componentDidMount() {\n    this.dragDom.addEventListener('mousedown', this.openDrag)\n    this.props.event.addEventListener('transform', this.transformChange, true)\n  }\n  componentWillUnmount() {\n    this.dragDom.removeEventListener('mousedown', this.openDrag)\n  }\n  openDrag = e => {\n    this.position.start = [e.pageX, e.pageY]\n    this.dragDom.addEventListener('mousemove', this.moveChange)\n    document.body.addEventListener('mouseup', this.stopDrag)\n  }\n  moveChange = e => {\n    const { api } = this.props\n    const currentPosition = api.getPosition()\n    this.position.end = [e.pageX, e.pageY]\n    const x = currentPosition[0] + (this.position.end[0] - this.position.start[0])\n    const y = currentPosition[1] + (this.position.end[1] - this.position.start[1])\n    const position = [x, y]\n    api.setPosition(position)\n    this.position.start = [e.pageX, e.pageY]\n  }\n  stopDrag = () => {\n    this.dragDom.removeEventListener('mousemove', this.moveChange)\n    document.body.removeEventListener('mouseup', this.stopDrag)\n    this.transformChange()\n  }\n  transformChange = () => {\n    const { api } = this.props\n    let position = computedBound(this.dragDom, api.getPosition(), api.getScale())\n    position && api.setPosition(position, true)\n  }\n\n  render() {\n    return null\n  }\n}\n\nDragEvent.propTypes = {\n  api: PropTypes.object,\n  event: PropTypes.object,\n  playContainer: PropTypes.node,\n  playerProps: PropTypes.object\n}\nexport default DragEvent\n","\r\nimport lcStore from \"./url/lcStore\";\r\nimport { JSONP } from '../util';\r\n\r\nclass lcStoreService {\r\n  /**\r\n   * @desc 获取视频流接口\r\n   */\r\n  // uri=<pull_uri>&resolution=<resolution>&bitrate=<bitrate>&key=<key>\r\n   getTranscodingStream(data) {\r\n\r\n  } \r\n\r\n  /**\r\n   * 修改视频流接口\r\n   * @param {*} data \r\n   */\r\n\r\n   setStreamResolution(code){\r\n    // /video/v1/change?&resolution=<resolution>&bitrate=<bitrate>&key=<key>\r\n    let url = lcStore.setStreamResolution.value.replace('<resolution>',code) + '&key=a123'\r\n    JSONP(url);\r\n  }\r\n}\r\nexport default new lcStoreService();\r\n","import { fullscreen, isFullscreen, exitFullscreen } from './util'\nimport EventName from './event/eventName'\nimport lcStore from \"./service/lcStore\";\n\nlet index = 0\nexport default class Api {\n  constructor({ video, playContainer, event, flv, hls, resolution, screenNum, stream }) {\n    this.player = video\n    this.playContainer = playContainer\n    this.flv = flv\n    this.hls = hls\n    this.event = event\n    this.scale = 1\n    this.position = [0, 0]\n    // 分辨率\n    this.resolution = resolution\n    // 分屏数 其他模式为空\n    this.screenNum = screenNum || 0\n    // 开流状态 0 失败/未开流  1 开流成功\n    this.stream = stream\n  }\n  /**\n   * 播放器销毁后 动态跟新api下的flv，hls对象\n   * @param {*} param0\n   */\n  updateChunk({ flv, hls }) {\n    this.flv = flv\n    this.hls = hls\n  }\n  /**\n   * 全屏\n   */\n  requestFullScreen() {\n    if (!isFullscreen(this.playContainer)) {\n      fullscreen(this.playContainer)\n    }\n  }\n  /**\n   * 退出全屏\n   */\n  cancelFullScreen() {\n    if (isFullscreen(this.playContainer)) {\n      exitFullscreen()\n    }\n  }\n  play() {\n    if (this.player.paused) {\n      this.player.play()\n    }\n  }\n  pause() {\n    if (!this.player.paused) {\n      this.player.pause()\n    }\n  }\n  destroy() {\n    this.player.removeAttribute('src')\n    this.flv?.pause()\n    this.unload()\n    if (this.flv) {\n      index++\n      this.flv.detachMediaElement && this.flv.detachMediaElement()\n      this.flv.destroy()\n    }\n    if (this.hls) {\n      index++\n      this.hls.destroy()\n    }\n\n    this.player = null\n    this.playContainer = null\n    this.flv = null\n    this.hls = null\n    this.event = null\n    this.scale = null\n    this.position = null\n    // this.playbackRate = 1\n    console.warn('destroy', index)\n  }\n\n  /**\n   * 设置currentTime实现seek\n   * @param {*} seconds\n   * @param {*} noEmit\n   */\n  seekTo(seconds, noEmit) {\n    const buffered = this.getBufferedTime()\n    if (this.flv && buffered[0] > seconds) {\n      this.flv.unload()\n      this.flv.load()\n    }\n    console.log(this.player)\n    if (this.player) {\n      console.log(this.player.currentTime)\n      this.player.currentTime = seconds\n      if (!noEmit) {\n        this.event.emit(EventName.SEEK, seconds)\n      }\n    }\n  }\n  success(notEmit){\n    !notEmit && this.event?.emit(EventName.RELOAD)\n  }\n  /**\n   * 视频重载\n   */\n  reload(notEmit) {\n    if (this.getCurrentTime !== 0) {\n      this.seekTo(0)\n    }\n    if (this.hls) {\n      this.hls.swapAudioCodec()\n      this.hls.recoverMediaError()\n    }\n    this.unload()\n    this.load()\n    this.play()\n    !notEmit && this.event.emit(EventName.RELOAD)\n  }\n  unload() {\n    this.flv && this.flv.unload()\n    this.hls && this.hls.stopLoad()\n  }\n  load() {\n    if (this.flv) {\n      this.flv.load()\n    }\n    if (this.hls) {\n      this.hls.startLoad()\n      this.hls.loadSource(this.hls.url)\n    }\n  }\n  setVolume(fraction) {\n    this.player.volume = fraction\n  }\n  mute() {\n    this.player.muted = true\n  }\n  unmute() {\n    this.player.muted = false\n  }\n\n  /**\n   * 开启画中画功能\n   */\n  requestPictureInPicture() {\n    if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\n      this.player.requestPictureInPicture()\n    }\n  }\n  /**\n   * 关闭画中画功能\n   */\n  exitPictureInPicture() {\n    if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\n      document.exitPictureInPicture()\n    }\n  }\n\n  /**\n   * 设置播放速率\n   * @param {*} rate\n   */\n  setPlaybackRate(rate) {\n    this.player.playbackRate = rate\n  }\n  /**\n   * 获取视频总时长\n   */\n  getDuration() {\n    if (!this.player) return null\n    const { duration, seekable } = this.player\n    if (duration === Infinity && seekable.length > 0) {\n      return seekable.end(seekable.length - 1)\n    }\n    return duration\n  }\n  /**\n   * 获取当前播放时间\n   */\n  getCurrentTime() {\n    if (!this.player) return null\n    return this.player.currentTime\n  }\n\n  /**\n   * 获取缓存时间\n   */\n  getSecondsLoaded() {\n    return this.getBufferedTime()[1]\n  }\n\n  /**\n   * 获取当前视频缓存的起止时间\n   */\n  getBufferedTime() {\n    if (!this.player) return []\n    const { buffered } = this.player\n    if (buffered.length === 0) {\n      return [0, 0]\n    }\n    const end = buffered.end(buffered.length - 1)\n    const start = buffered.start(buffered.length - 1)\n    const duration = this.getDuration()\n    if (end > duration) {\n      return duration\n    }\n    return [start, end]\n  }\n  /**\n   * 快进通过seekTo方法实现\n   * @param {*} second\n   */\n  fastForward(second = 5) {\n    const duration = this.getDuration()\n    const currentTime = this.getCurrentTime()\n    const time = currentTime + second\n    this.seekTo(time > duration - 1 ? duration - 1 : time)\n  }\n\n  /**\n   * 快退通过seekTo方法实现\n   * @param {*} second\n   */\n  backWind(second = 5) {\n    const currentTime = this.getCurrentTime()\n    const time = currentTime - second\n    this.seekTo(time < 1 ? 1 : time)\n  }\n\n  /**\n   * 视频截屏方法\n   */\n  snapshot() {\n    let canvas = document.createElement('canvas')\n    let ctx = canvas.getContext('2d')\n    canvas.width = this.player.videoWidth\n    canvas.height = this.player.videoHeight\n    ctx.drawImage(this.player, 0, 0, canvas.width, canvas.height)\n    setTimeout(() => {\n      canvas.remove()\n      canvas = null\n      ctx = null\n    }, 200)\n    return canvas.toDataURL()\n  }\n  setScale(num, isRest = false) {\n    let scale = this.scale + num\n    if (isRest) {\n      scale = num\n    } else {\n      if (scale < 1) {\n        scale = 1\n      }\n      if (scale > 3) {\n        scale = 3\n      }\n    }\n    this.scale = scale\n    this.player.style.transition = 'transform 0.3s'\n    this.__setTransform()\n    this.event.emit(EventName.TRANSFORM)\n    setTimeout(() => {\n      this.player.style.transition = 'unset'\n    }, 1000)\n  }\n  getScale() {\n    return this.scale\n  }\n  /**\n   * 获取当前播放对象分辨率\n   * @returns \n   */\n  getResolution(){\n    return this.resolution\n  }\n  \n  /**\n   * 获取当前分屏数\n   * @returns \n   */\n  getCurrentScreen(){\n    return this.screenNum\n  }\n  \n  setPosition(position, isAnimate) {\n    this.position = position\n    this.player.style.transition = isAnimate ? 'transform 0.3s' : 'unset'\n    this.__setTransform()\n  }\n  getPosition() {\n    return this.position\n  }\n  __setTransform() {\n    this.player.style.transform = `scale(${this.scale}) translate(${this.position[0]}px,${this.position[1]}px)`\n  }\n  exeRatioCommand(ratio){\n    lcStore.setStreamResolution(ratio)\n  }\n\n  changeStream(stream){\n    this.stream = stream\n  }\n\n    /**\n   * 设置播放速率\n   * @param {*} rate\n   */\n  setPlaybackRate(rate) {\n    this.playbackRate = rate\n    this.player && (this.player.playbackRate = rate)\n  }\n\n  restPlayRate(){\n    console.info(this.playbackRate)\n    this.player.playbackRate = this.playbackRate\n  }\n\n  getPlayerIng(){\n    return this.player.playbackRate\n  }\n\n  getApi() {\n    return {\n      play: this.play.bind(this),\n      reload: this.reload.bind(this),\n      success: this.success.bind(this),\n      pause: this.pause.bind(this),\n      seekTo: this.seekTo.bind(this),\n      setVolume: this.setVolume.bind(this),\n      mute: this.mute.bind(this),\n      unmute: this.unmute.bind(this),\n      requestPictureInPicture: this.requestPictureInPicture.bind(this),\n      exitPictureInPicture: this.exitPictureInPicture.bind(this),\n      setPlaybackRate: this.setPlaybackRate.bind(this),\n      destroy: this.destroy.bind(this),\n      getDuration: this.getDuration.bind(this),\n      getCurrentTime: this.getCurrentTime.bind(this),\n      getSecondsLoaded: this.getSecondsLoaded.bind(this),\n      getBufferedTime: this.getBufferedTime.bind(this),\n      fastForward: this.fastForward.bind(this),\n      backWind: this.backWind.bind(this),\n      snapshot: this.snapshot.bind(this),\n      requestFullScreen: this.requestFullScreen.bind(this),\n      cancelFullScreen: this.cancelFullScreen.bind(this),\n      __player: this.player,\n      flv: this.flv,\n      hls: this.hls,\n      stream: this.stream,\n      changeStream: this.changeStream.bind(this),\n      restPlayRate: this.restPlayRate.bind(this),\n      getPlayerIng: this.getPlayerIng.bind(this),\n    }\n  }\n}\n","function getHiddenProp() {\n  const prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\n  // 如果hidden 属性是原生支持的，我们就直接返回\n  if (\"hidden\" in document) {\n    return \"hidden\";\n  }\n\n  // 其他的情况就循环现有的浏览器前缀，拼接我们所需要的属性\n  for (let i = 0; i < prefixes.length; i++) {\n    // 如果当前的拼接的前缀在 document对象中存在 返回即可\n    if (prefixes[i] + \"Hidden\" in document) {\n      return prefixes[i] + \"Hidden\";\n    }\n  }\n\n  // 其他的情况 直接返回null\n  return null;\n}\n\nfunction getVisibilityState() {\n  const prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\n\n  if (\"visibilityState\" in document) {\n    return \"visibilityState\";\n  }\n\n  for (let i = 0; i < prefixes.length; i++) {\n    if (prefixes[i] + \"VisibilityState\" in document) {\n      return prefixes[i] + \"VisibilityState\";\n    }\n  }\n  // 找不到返回 null\n  return null;\n}\n\nfunction visibilityState() {\n  return document[getVisibilityState()];\n}\n\nfunction addEventListener(listener) {\n  const visProp = getHiddenProp();\n  const evtname = visProp.replace(/[H|h]idden/, \"\") + \"visibilitychange\";\n  document.addEventListener(evtname, listener, false);\n}\n\nfunction removeEventListener(listener) {\n  const visProp = getHiddenProp();\n  const evtname = visProp.replace(/[H|h]idden/, \"\") + \"visibilitychange\";\n  document.removeEventListener(evtname, listener, false);\n}\n\nexport default {\n  addEventListener,\n  removeEventListener,\n  visibilityState\n};\n","import React, { useEffect } from 'react'\nimport BrowserTab from './event/browserTabEvent'\n\nfunction LiveHeart({ api }) {\n  useEffect(() => {\n    const browserTabChange = function() {\n      if (BrowserTab.visibilityState() === 'visible') {\n        const current = api.getCurrentTime()\n        const buffered = api.getSecondsLoaded()\n        if (buffered - current > 5) {\n          console.warn(`当前延时过大current->${current} buffered->${buffered}, 基于视频当前缓存时间更新当前播放时间 updateTime -> ${buffered - 2}`)\n          api.seekTo(buffered - 2 > 0 ? buffered - 2 : 0)\n        }\n      }\n    }\n    BrowserTab.addEventListener(browserTabChange)\n    return () => {\n      BrowserTab.removeEventListener(browserTabChange)\n    }\n  }, [api])\n  return <></>\n}\n\nexport default LiveHeart\n","import React, { useRef, useEffect, useState, useMemo, useCallback, useContext, createContext } from 'react';\nimport VideoEvent from './event';\nimport { getVideoType, createFlvPlayer, createHlsPlayer,detectorPlayeMode,tansCodingToUrl, getScreenRate, installState } from './util';\nimport ContrallerBar from './contraller_bar';\nimport ContrallerEvent from './event/contrallerEvent';\nimport VideoMessage, { NoSource } from './message';\nimport TimeLine from './time_line';\nimport ErrorEvent from './event/errorEvent';\nimport DragEvent from './event/dragEvent';\nimport Api from './api';\nimport LiveHeart from './live_heart';\nimport PropTypes from 'prop-types';\nimport IconFont from './iconfont'\nimport './style/index.less';\nimport './style/message.less'\n\nconst CountContext = createContext(12)\n\nconst ReConnection = ({connectHandle}) => {\n  const {connectCount, connectStatus, children} = useContext(CountContext)\n\n  return (\n    <>\n       <div className={'lm-player-container lm-c-player-component ocean-error'}>\n          <div className=\"player-mask-layout\"><video/></div>\n          {children}\n          <div className=\"lm-player-message-mask lm-player-mask-loading-animation\">\n            {\n              connectStatus !== 2 ? <span  className=\"lm-player-message\" style={{ fontSize: 24 }}>第{ connectCount }次连接中，请稍候...</span> : \n              <> \n              <IconFont style={{ fontSize: 68, color: '#DBE1EA' }} type={'lm-player-M_Device_jiazaishibai'}/>\n              <span className=\"lm-player-message\">连接失败<span className=\"refresh-action\" onClick={()=> connectHandle()}>刷新重试</span></span>\n              </>\n            }\n          </div>\n        </div>\n    </>\n  )\n}\n\n/**\n * 播放控件容器\n * @param {*} param0 \n * @returns \n */\nfunction SinglePlayer({...props}){\n  const [connectStatus, setConnectStatus] = useState(1);\n  const connectCount = useRef(0)\n\n  const timer = useRef(null)\n  const playerStatus = useRef(0)\n\n  useEffect(() => {\n    return () => {\n      timer && clearTimeout(timer)\n    }\n  }, [])\n\n  const setConnectCount = (count)=>{\n    connectCount.current = count;\n  }\n\n  const reconnectHandle = ()=>{\n    setConnectCount(0)\n    setConnectStatus(1)\n  }\n\n  const updateStatus = (status)=>{\n    playerStatus.current = status;\n  }\n\n\n\n  return (<>\n    {connectStatus == 1 ? \n    <ZPlayer\n    errorNoticeHandle={()=>{\n      console.warn('开流状态记录....'+playerStatus.current);\n\n      if(playerStatus.current == 0){\n        console.warn('首次开流失败！');\n        setConnectStatus(2)\n        return\n      }\n\n      if(playerStatus.current == 1){\n        setConnectCount(0)\n        updateStatus(2)\n      }\n\n      console.warn('开流连接次数....'+connectCount.current)\n\n      const currentStatus = props.errorReloadTimer > connectCount.current\n      if(currentStatus){\n        setConnectCount(connectCount.current + 1)\n        setConnectStatus(0)\n        // 开启定时器-更新连接状态\n        timer.current = setTimeout(()=>{\n          // 连接状态重置为可连接状态\n          setConnectStatus(1)\n        }, 1000*1)\n      }else{\n        // 结束连接\n        setConnectStatus(2)\n      }\n      \n   }}\n   {...props}\n   onStreamMounted={(data)=>{\n    if(data.streamState == 1){\n      updateStatus(1)\n    }\n    props.onStreamMounted && props.onStreamMounted(data)\n  }}\n   >\n   </ZPlayer> :     \n   <CountContext.Provider value={{\n     connectStatus,\n     connectCount: connectCount.current,\n     children: props.errorExtContents\n   }}>\n      <ReConnection connectHandle={()=>reconnectHandle()}/>\n   </CountContext.Provider>}\n   </> )\n}\n\nfunction ZPlayer({ type, file, className, autoPlay, muted, poster, playsinline, loop, preload, children, onInitPlayer, screenNum,deviceInfo, ...props }) {\n  const playContainerRef = useRef(null);\n  const [playerObj, setPlayerObj] = useState(null);\n  const playerRef = useRef(null);\n  // 分屏数 分辨率\n  const rate = useMemo(() => getScreenRate(screenNum), [screenNum]);\n  const [resolution, setResolution] = useState(rate);\n\n  const [colorPicker, setColorPicker] = useState(null);\n\n  const [install, setInstall] = useState(false);\n\n  // 开流状态 0 失败/未开流  1 开流成功\n  const [streamState, setStreamState] = useState(0);\n\n  function onToken(token){\n    props.onVideoFn && props.onVideoFn({\n      uuid: token\n    })\n  }\n\n  useEffect(\n    () => () => {\n      if (playerRef.current && playerRef.current.event) {\n        playerRef.current.event.destroy();\n      }\n      if (playerRef.current && playerRef.current.api) {\n        playerRef.current.api.destroy();\n      } \n      playerRef.current = null;\n    },\n    [file,resolution]\n  );\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const playerObject = {\n      playContainer: playContainerRef.current,\n      video: playContainerRef.current.querySelector('video'),\n      resolution: resolution,\n      screenNum: screenNum,\n      playeMode : detectorPlayeMode(),\n      deviceInfo: deviceInfo,\n      stream : 0\n    };\n    let isInit = false;\n    const formartType = getVideoType(file);\n    if (formartType === 'flv' || type === 'flv') {\n      isInit = true;\n      try{\n        playerObject.flv = createFlvPlayer(playerObject.video, { ...props, file: tansCodingToUrl({file, resolution, deviceInfo}, onToken) });\n      }catch(e) {\n        console.error(e)\n      }\n    }\n    if (formartType === 'm3u8' || type === 'hls') {\n      isInit = true;\n      try{\n        playerObject.hls = createHlsPlayer(playerObject.video, file);\n      }catch(e) {\n        console.error(e)\n      }\n    }\n    if (!isInit && (!['flv', 'm3u8'].includes(formartType) || type === 'native')) {\n      playerObject.video.src = file;\n    }\n    if (playerObject.event) {\n      playerObject.event.destroy();\n    }\n    playerObject.event = new VideoEvent(playerObject.video);\n    if (playerObject.api) {\n      playerObject.api.destroy();\n    }\n    playerObject.api = new Api(playerObject);\n    playerRef.current = playerObject;\n    setPlayerObj(() => playerObject);\n\n    if (onInitPlayer) {\n      onInitPlayer(Object.assign({}, playerObject.api.getApi(), playerObject.event.getApi()));\n    }\n  }, [file,resolution]);\n\n  useEffect(() => {\n    installState(function(){\n      setInstall(true)\n    })\n    props.onStreamMounted && props.onStreamMounted({streamState})\n  }, [streamState]);\n\n  return (\n    <div className={`lm-player-container ${className}`} ref={playContainerRef}>\n      <div className=\"player-mask-layout\">\n        <video autoPlay={autoPlay} preload={preload} muted={muted} poster={poster} controls={false} crossorigin={\"Anonymous\"} usecors={true} playsInline={playsinline} loop={loop} style={colorPicker} />\n      </div>\n      <VideoTools\n        playerObj={playerObj}\n        isLive={props.isLive}\n        key={file}\n        install={install}\n        hideContrallerBar={props.hideContrallerBar}\n        scale={props.scale}\n        switchResolution={(resolution) => {\n          setResolution(resolution)\n        }}\n        colorPicker={(value) => {\n          setColorPicker(value)\n        }}\n        setStreamState={setStreamState}\n        snapshot={props.snapshot}\n        leftExtContents={props.leftExtContents}\n        leftMidExtContents={props.leftMidExtContents}\n        rightExtContents={props.rightExtContents}\n        rightMidExtContents={props.rightMidExtContents}\n        draggable={props.draggable}\n        errorNoticeHandle={props.errorNoticeHandle}\n      />\n      {children}\n    </div>\n  )\n}\n\nfunction VideoTools({\n  playerObj,\n  draggable,\n  isLive,\n  hideContrallerBar,\n  scale,\n  snapshot,\n  switchResolution,\n  leftExtContents,\n  leftMidExtContents,\n  rightExtContents,\n  rightMidExtContents,\n  install,\n  colorPicker,\n  setStreamState,\n  errorNoticeHandle\n}) {\n  if (!playerObj) {\n    return <NoSource install={install}/>;\n  }\n  return (\n    <>\n      <VideoMessage api={playerObj.api} event={playerObj.event} setStreamState={setStreamState}/>\n      {draggable && <DragEvent playContainer={playerObj.playContainer} api={playerObj.api} event={playerObj.event} />}\n      {!hideContrallerBar && (\n        <ContrallerEvent event={playerObj.event} playContainer={playerObj.playContainer}>\n          <ContrallerBar\n            api={playerObj.api}\n            event={playerObj.event}\n            playContainer={playerObj.playContainer}\n            video={playerObj.video}\n            snapshot={snapshot}\n            colorPicker={colorPicker}\n            switchResolution={switchResolution}\n            rightExtContents={rightExtContents}\n            rightMidExtContents={rightMidExtContents}\n            scale={scale}\n            isHistory={false}\n            isLive={isLive}\n            leftExtContents={leftExtContents}\n            leftMidExtContents={leftMidExtContents}\n          />\n          {!isLive && <TimeLine api={playerObj.api} event={playerObj.event} />}\n        </ContrallerEvent>\n      )}\n      <ErrorEvent flv={playerObj.flv} hls={playerObj.hls} api={playerObj.api} event={playerObj.event} errorNoticeHandle={errorNoticeHandle}/>\n      {isLive && <LiveHeart api={playerObj.api} />}\n    </>\n  );\n}\n\nSinglePlayer.propTypes = {\n  file: PropTypes.string.isRequired, //播放地址 必填\n  isLive: PropTypes.bool, //是否实时视频\n  errorReloadTimer: PropTypes.number, //视频错误重连次数\n  type: PropTypes.oneOf(['flv', 'hls', 'native']), //强制视频流类型\n  onInitPlayer: PropTypes.func,\n  draggable: PropTypes.bool,\n  hideContrallerBar: PropTypes.bool,\n  scale: PropTypes.bool,\n  muted: PropTypes.string,\n  autoPlay: PropTypes.bool,\n  playsInline: PropTypes.bool,\n  preload: PropTypes.string,\n  poster: PropTypes.string,\n  loop: PropTypes.bool,\n  snapshot: PropTypes.func,\n  className: PropTypes.string,\n  rightExtContents: PropTypes.element,\n  rightMidExtContents: PropTypes.element,\n  leftExtContents: PropTypes.element,\n  leftMidExtContents: PropTypes.element,\n  flvOptions: PropTypes.object,\n  flvConfig: PropTypes.object,\n  children: PropTypes.element,\n};\nSinglePlayer.defaultProps = {\n  isLive: true,\n  draggable: true,\n  scale: true,\n  errorReloadTimer: 5,\n  muted: 'muted',\n  autoPlay: true,\n  playsInline: false,\n  preload: 'auto',\n  loop: false,\n  hideContrallerBar: false,\n};\n\nexport default SinglePlayer;\n","export const computedIndexFormTime = (historyList, time) => {\n  let index = 0\n  try {\n    index = historyList.fragments.findIndex((v) => v.end > time)\n  } catch (e) {\n    console.error('historyList data error', historyList)\n  }\n  return index\n}\nexport const computedTimeAndIndex = (historyList, currentTime) => {\n  const index = computedIndexFormTime(historyList, currentTime)\n  let seekTime = 0\n  try {\n    const fragment = historyList.fragments[index]\n    if (!fragment) {\n      return [0, 0]\n    }\n    seekTime = currentTime - fragment.begin - 1\n  } catch (e) {\n    console.error('historyList data error', historyList)\n  }\n  return [index, seekTime]\n}\n","import React, { useState, useEffect, useMemo, useCallback } from 'react'\nimport IconFont from '../iconfont'\nimport Slider from '../slider'\nimport { dateFormat } from '../util'\nimport EventName from '../event/eventName'\nimport PropTypes from 'prop-types'\nimport { computedTimeAndIndex } from './utils'\nimport '../style/time-line.less'\n\nconst computedLineList = (historyList) => {\n  const duration = historyList.duration\n  return historyList.fragments.map((v) => {\n    return {\n      disabled: !v.file,\n      size: ((v.end - v.begin) / duration) * 100,\n    }\n  })\n}\n\nfunction TineLine({ event, api, visibel, historyList, playIndex, seekTo, defaultTime }) {\n  const [state, setState] = useState({ duration: 1, currentTime: defaultTime, buffered: 0, isEnd: false })\n\n  useEffect(() => setState((old) => ({ ...old, currentTime: defaultTime })), [defaultTime])\n\n  useEffect(() => {\n    const getDuration = () => setState((old) => ({ ...old, duration: api.getDuration() }))\n    const getCurrentTime = () => setState((old) => ({ ...old, currentTime: api.getCurrentTime(), buffered: api.getSecondsLoaded() }))\n    const getBuffered = () => setState((old) => ({ ...old, buffered: api.getSecondsLoaded() }))\n    const historyPlayEnd = () => setState((old) => ({ ...old, isEnd: true }))\n    const reload = () => setState((old) => ({ ...old, isEnd: false, currentTime: api.getCurrentTime() }))\n    const seekendPlay = () => api.play()\n\n    event.addEventListener('loadedmetadata', getDuration)\n    event.addEventListener('durationchange', getDuration)\n    event.addEventListener('timeupdate', getCurrentTime)\n    event.addEventListener('progress', getBuffered)\n    event.addEventListener('suspend', getBuffered)\n    event.addEventListener('seeked', seekendPlay)\n    event.on(EventName.HISTORY_PLAY_END, historyPlayEnd)\n    event.on(EventName.RELOAD, reload)\n\n    return () => {\n      event.removeEventListener('loadedmetadata', getDuration)\n      event.removeEventListener('durationchange', getDuration)\n      event.removeEventListener('timeupdate', getCurrentTime)\n      event.removeEventListener('progress', getBuffered)\n      event.removeEventListener('suspend', getBuffered)\n      event.removeEventListener('seeked', seekendPlay)\n      event.off(EventName.HISTORY_PLAY_END, historyPlayEnd)\n      event.off(EventName.RELOAD, reload)\n    }\n  }, [event, api])\n\n  const changePlayTime = useCallback(\n    (percent) => {\n      const currentTime = percent * historyList.duration //修正一下误差\n      const [index, time] = computedTimeAndIndex(historyList, currentTime)\n      console.log(index, time)\n      seekTo(currentTime, index)\n      setState((old) => ({ ...old, currentTime: time, isEnd: false }))\n    },\n    [historyList]\n  )\n\n  const renderTimeLineTips = (percent) => {\n    const currentTime = percent * historyList.duration * 1000\n    const date = dateFormat(historyList.beginDate + currentTime)\n    return <span>{date}</span>\n  }\n\n  const { currentTime, buffered, isEnd } = state\n  const lineList = useMemo(() => computedLineList(historyList), [historyList])\n  const currentLine = useMemo(() => lineList.filter((_, i) => i < playIndex).map((v) => v.size), [playIndex, lineList])\n  const currentIndexTime = useMemo(() => (currentLine.length === 0 ? 0 : currentLine.length > 1 ? currentLine.reduce((p, c) => p + c) : currentLine[0]), [currentLine])\n  const playPercent = useMemo(() => (currentTime / historyList.duration) * 100 + currentIndexTime, [currentIndexTime, historyList, currentTime])\n  const bufferedPercent = useMemo(() => (buffered / historyList.duration) * 100 + currentIndexTime, [historyList, currentIndexTime, buffered])\n\n  return (\n    <div className={`video-time-line-layout ${!visibel ? 'hide-time-line' : ''}`}>\n      <IconFont type=\"lm-player-PrevFast\" onClick={() => api.backWind()} className=\"time-line-action-item\" />\n      <Slider className=\"time-line-box\" currentPercent={isEnd ? '100' : playPercent} availablePercent={bufferedPercent} onChange={changePlayTime} renderTips={renderTimeLineTips}>\n        <>\n          {lineList.map((v, i) => {\n            const currentSizeLine = lineList.filter((v, i2) => i2 < i).map((v) => v.size)\n            const currentIndexSize = currentSizeLine.length === 0 ? 0 : currentSizeLine.length > 1 ? currentSizeLine.reduce((p, c) => p + c) : currentSizeLine[0]\n            const currentSize = v.size || 0\n            return (\n              <div className={`history-time-line-item ${v.disabled ? 'history-time-line-disabled' : ''}`} key={i} style={{ width: `${currentSize}%`, left: `${currentIndexSize}%` }} />\n            )\n          })}\n        </>\n      </Slider>\n      <IconFont type=\"lm-player-NextFast_Light\" onClick={() => api.fastForward()} className=\"time-line-action-item\" />\n    </div>\n  )\n}\n\nTineLine.propTypes = {\n  event: PropTypes.object,\n  api: PropTypes.object,\n  changePlayIndex: PropTypes.func,\n  playIndex: PropTypes.number,\n  historyList: PropTypes.array,\n  seekTo: PropTypes.func,\n  visibel: PropTypes.bool,\n}\n\nexport default TineLine\n","import React, { useState, useEffect, useRef } from 'react'\nimport EventName from '../event/eventName'\n\nfunction ErrorEvent({ event, api, errorReloadTimer, flv, hls, changePlayIndex, isHistory, playIndex }) {\n  const [errorTimer, setErrorTime] = useState(0)\n  const errorInfo = useRef(null)\n  const reloadTimer = useRef(null)\n\n  useEffect(() => {\n    const errorHandle = (...args) => {\n      if (args[2] && args[2].msg && args[2].msg.includes('Unsupported audio')) {\n        return\n      }\n\n      if(args[1] && args[1].details && (\n        args[1].details.includes(\"bufferStalledError\") || \n        args[1].details.includes(\"bufferNudgeOnStall\") || \n        args[1].details.includes(\"bufferSeekOverHole\") || \n        args[1].details.includes(\"bufferAddCodecError\") \n      )){\n        return\n      }\n      \n      console.error(...args)\n      errorInfo.current = args\n      setErrorTime(errorTimer + 1)\n    }\n\n    const reloadSuccess = () => {\n      if (errorTimer > 0) {\n        console.warn('视频重连成功！')\n        event.emit(EventName.RELOAD_SUCCESS)\n        api.success()\n        clearErrorTimer()\n      }\n    }\n    const clearErrorTimer = () => setErrorTime(0)\n    try {\n      if (flv) {\n        flv.on('error', errorHandle)\n      }\n      if (hls) {\n        hls.on('hlsError', errorHandle)\n      }\n    } catch (e) {\n      //\n    }\n\n    if (isHistory) {\n      //历史视频切换播放索引时清除错误次数\n      event.on(EventName.CHANGE_PLAY_INDEX, clearErrorTimer)\n      //历史视频主动清除错误次数\n      event.on(EventName.CLEAR_ERROR_TIMER, clearErrorTimer)\n    }\n    event.addEventListener('error', errorHandle, false)\n    //获取video状态清除错误状态\n    event.addEventListener('canplay', reloadSuccess, false)\n\n    return () => {\n      try {\n        if (flv) {\n          flv.off('error', errorHandle)\n        }\n        if (hls) {\n          hls.off('hlsError', errorHandle)\n        }\n      } catch (e) {\n        console.warn(e)\n      }\n      if (isHistory) {\n        event.off(EventName.CHANGE_PLAY_INDEX, clearErrorTimer)\n        event.off(EventName.CLEAR_ERROR_TIMER, clearErrorTimer)\n      }\n      event.removeEventListener('error', errorHandle, false)\n      event.removeEventListener('canplay', reloadSuccess, false)\n    }\n  }, [event, flv, hls, errorTimer])\n\n  useEffect(() => {\n    if (errorTimer === 0) {\n      return\n    }\n    if (errorTimer > errorReloadTimer) {\n      isHistory ? changePlayIndex(playIndex + 1) : event.emit(EventName.RELOAD_FAIL)\n      api.unload()\n      return\n    }\n\n    console.warn(`视频播放出错，正在进行重连${errorTimer}`)\n    reloadTimer.current = setTimeout(() => {\n      event.emit(EventName.ERROR_RELOAD, errorTimer, ...errorInfo.current)\n      api.reload(true)\n    }, 2 * 1000)\n\n    return () => {\n      clearTimeout(reloadTimer.current)\n    }\n  }, [errorTimer, api, event, flv, hls])\n\n  return <></>\n}\n\nexport default ErrorEvent\n","/**\n * history下使用 用户切换下个播放地址\n */\n\nimport React, { useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nfunction PlayEnd({ event, changePlayIndex, playIndex }) {\n  useEffect(() => {\n    const endedHandle = () => changePlayIndex(playIndex + 1)\n    event.addEventListener('ended', endedHandle, false)\n    return () => {\n      event.removeEventListener('ended', endedHandle, false)\n    }\n  }, [event, playIndex, changePlayIndex])\n  return <></>\n}\n\nPlayEnd.propTypes = {\n  event: PropTypes.object,\n  changePlayIndex: PropTypes.func,\n  playIndex: PropTypes.number,\n}\nexport default PlayEnd\n","import React, { useRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport ContrallerBar from '../contraller_bar';\nimport VideoMessage, { NoSource } from '../message';\nimport HistoryTimeLine from './time_line_history';\nimport ErrorEvent from './errorEvent';\nimport DragEvent from '../event/dragEvent';\nimport Api from '../api';\nimport VideoEvent from '../event';\nimport PlayEnd from './play_end';\nimport EventName from '../event/eventName';\nimport ContrallerEvent from '../event/contrallerEvent';\nimport { getVideoType, createFlvPlayer, createHlsPlayer, tansCodingToUrl, getScreenRate  } from '../util';\nimport { computedTimeAndIndex } from './utils';\n\nfunction HistoryPlayer({ type, historyList, defaultTime, className, autoPlay, muted, poster, playsinline, loop, preload, children, onInitPlayer, screenNum, speed, ...props }) {\n  const playContainerRef = useRef(null);\n  const [playerObj, setPlayerObj] = useState(null);\n  const playerRef = useRef(null);\n  const [playStatus, setPlayStatus] = useState(() => computedTimeAndIndex(historyList, defaultTime));\n  const playIndex = useMemo(() => playStatus[0], [playStatus]);\n  const defaultSeekTime = useMemo(() => playStatus[1], [playStatus]);\n\n  const rate = useMemo(() => getScreenRate(screenNum), [screenNum]);\n  const [resolution, setResolution] = useState(rate);\n  const [colorPicker, setColorPicker] = useState(null);\n\n  const file = useMemo(() => {\n    let url;\n    try {\n      url = historyList.fragments[playIndex].file;\n    } catch (e) {\n      console.warn('未找到播放地址！', historyList);\n    }\n    return url;\n  }, [historyList, playIndex]);\n\n  /**\n   * 重写api下的seekTo方法\n   */\n  const seekTo = useCallback(\n    (currentTime) => {\n      const [index, seekTime] = computedTimeAndIndex(historyList, currentTime);\n      if (playerRef.current.event && playerRef.current.api) {\n        //判断是否需要更新索引\n        setPlayStatus((old) => {\n          if (old[0] !== index) {\n            return [index, seekTime];\n          } else {\n            playerRef.current.api.seekTo(seekTime, true);\n            return old;\n          }\n        });\n      }\n    },\n    [playIndex, historyList]\n  );\n\n  const changePlayIndex = useCallback(\n    (index) => {\n      if (index > historyList.fragments.length - 1) {\n        return playerRef.current && playerRef.current.event && playerRef.current.event.emit(EventName.HISTORY_PLAY_END);\n      }\n\n      if (!historyList.fragments[index].file) {\n        return changePlayIndex(index + 1);\n      }\n\n      if (playerRef.current && playerRef.current.event) {\n        playerRef.current.event.emit(EventName.CHANGE_PLAY_INDEX, index);\n      }\n      setPlayStatus([index, 0]);\n    },\n    [historyList]\n  );\n\n  const reloadHistory = useCallback(() => {\n    if (playStatus[0] === 0) {\n      playerRef.current.api.seekTo(defaultSeekTime);\n    }\n    setPlayStatus([0, 0]);\n\n    playerRef.current.event.emit(EventName.RELOAD);\n  }, []);\n\n  useEffect(() => {\n    if (!file) {\n      changePlayIndex(playIndex + 1);\n    }\n\n    file && playerObj && playerObj.api.setPlaybackRate(speed)\n\n  }, [file, playIndex, historyList, speed]);\n\n  useEffect(\n    () => () => {\n      if (playerRef.current && playerRef.current.event) {\n        playerRef.current.event.destroy();\n      }\n      if (playerRef.current && playerRef.current.api) {\n        playerRef.current.api.destroy();\n      }\n      playerRef.current = null;\n    },\n    [file]\n  );\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const playerObject = {\n      playContainer: playContainerRef.current,\n      video: playContainerRef.current.querySelector('video'),\n      resolution: resolution,\n      screenNum: screenNum,\n    };\n    let isInit = false;\n    const formartType = getVideoType(file);\n    if (formartType === 'flv' || type === 'flv') {\n      isInit = true;\n      playerObject.flv = createFlvPlayer(playerObject.video, { ...props,  file: tansCodingToUrl({file, resolution}) });\n    }\n    if (formartType === 'm3u8' || type === 'hls') {\n      isInit = true;\n      playerObject.hls = createHlsPlayer(playerObject.video, file);\n    }\n    if (!isInit && (!['flv', 'm3u8'].includes(formartType) || type === 'native')) {\n      playerObject.video.src = file;\n    }\n    if (playerObject.event) {\n      playerObject.event.destroy();\n    }\n    playerObject.event = new VideoEvent(playerObject.video);\n    if (playerObject.api) {\n      playerObject.api.destroy();\n    }\n    playerObject.api = new Api(playerObject);\n    playerRef.current = playerObject;\n    setPlayerObj(playerObject);\n    if (defaultSeekTime) {\n      playerObject.api.seekTo(defaultSeekTime);\n    }\n    if (onInitPlayer) {\n      onInitPlayer(Object.assign({}, playerObject.api.getApi(), playerObject.event.getApi(), { seekTo, changePlayIndex, reload: reloadHistory }));\n    }\n    // 倍数\n    playerObject.api.setPlaybackRate(speed)\n  }, [historyList, file]);\n\n  return (\n    <div className={`lm-player-container ${className}`} ref={playContainerRef}>\n      <div className=\"player-mask-layout\">\n        <video autoPlay={autoPlay} preload={preload} muted={muted} poster={poster} controls={false} crossorigin={\"Anonymous\"} usecors={true} playsInline={playsinline} loop={loop} style={colorPicker} />\n      </div>\n      <VideoTools\n        defaultTime={defaultSeekTime}\n        playerObj={playerObj}\n        isLive={props.isLive}\n        hideContrallerBar={props.hideContrallerBar}\n        errorReloadTimer={props.errorReloadTimer}\n        scale={props.scale}\n        snapshot={props.snapshot}\n        colorPicker={(value)=>{setColorPicker(value)}}\n        leftExtContents={props.leftExtContents}\n        leftMidExtContents={props.leftMidExtContents}\n        rightExtContents={props.rightExtContents}\n        rightMidExtContents={props.rightMidExtContents}\n        draggable={props.draggable}\n        changePlayIndex={changePlayIndex}\n        reloadHistory={reloadHistory}\n        historyList={historyList}\n        playIndex={playIndex}\n        seekTo={seekTo}\n        key={file}\n      />\n      {children}\n    </div>\n  );\n}\n\nfunction VideoTools({\n  playerObj,\n  draggable,\n  isLive,\n  hideContrallerBar,\n  scale,\n  snapshot,\n  leftExtContents,\n  leftMidExtContents,\n  rightExtContents,\n  rightMidExtContents,\n  errorReloadTimer,\n  changePlayIndex,\n  reloadHistory,\n  historyList,\n  seekTo,\n  playIndex,\n  defaultTime,\n  colorPicker\n}) {\n  if (!playerObj) {\n    return <NoSource />;\n  }\n  return (\n    <>\n      <VideoMessage api={playerObj.api} event={playerObj.event} />\n      {draggable && <DragEvent playContainer={playerObj.playContainer} api={playerObj.api} event={playerObj.event} />}\n      {!hideContrallerBar && (\n        <ContrallerEvent event={playerObj.event} playContainer={playerObj.playContainer}>\n          <ContrallerBar\n            api={playerObj.api}\n            event={playerObj.event}\n            playContainer={playerObj.playContainer}\n            video={playerObj.video}\n            colorPicker={colorPicker}\n            snapshot={snapshot}\n            rightExtContents={rightExtContents}\n            rightMidExtContents={rightMidExtContents}\n            scale={scale}\n            isHistory={true}\n            isLive={isLive}\n            leftExtContents={leftExtContents}\n            leftMidExtContents={leftMidExtContents}\n            reloadHistory={reloadHistory}\n          />\n          <HistoryTimeLine\n            defaultTime={defaultTime}\n            changePlayIndex={changePlayIndex}\n            historyList={historyList}\n            playIndex={playIndex}\n            seekTo={seekTo}\n            api={playerObj.api}\n            event={playerObj.event}\n          />\n        </ContrallerEvent>\n      )}\n      <ErrorEvent\n        changePlayIndex={changePlayIndex}\n        playIndex={playIndex}\n        isHistory={true}\n        flv={playerObj.flv}\n        hls={playerObj.hls}\n        api={playerObj.api}\n        event={playerObj.event}\n        errorReloadTimer={errorReloadTimer}\n      />\n      <PlayEnd event={playerObj.event} changePlayIndex={changePlayIndex} playIndex={playIndex} />\n    </>\n  );\n}\n\nHistoryPlayer.propTypes = {\n  historyList: PropTypes.object.isRequired, //播放地址 必填\n  errorReloadTimer: PropTypes.number, //视频错误重连次数\n  type: PropTypes.oneOf(['flv', 'hls', 'native']), //强制视频流类型\n  onInitPlayer: PropTypes.func,\n  isDraggable: PropTypes.bool,\n  isScale: PropTypes.bool,\n  muted: PropTypes.string,\n  autoPlay: PropTypes.bool,\n  playsInline: PropTypes.bool,\n  preload: PropTypes.string,\n  poster: PropTypes.string,\n  loop: PropTypes.bool,\n  defaultTime: PropTypes.number,\n  className: PropTypes.string,\n  playsinline: PropTypes.bool,\n  children: PropTypes.any,\n  rightExtContents: PropTypes.element,\n  rightMidExtContents: PropTypes.element,\n  leftExtContents: PropTypes.element,\n  leftMidExtContents: PropTypes.element,\n  flvOptions: PropTypes.object,\n  flvConfig: PropTypes.object,\n};\nHistoryPlayer.defaultProps = {\n  draggable: true,\n  scale: true,\n  errorReloadTimer: 5,\n  muted: 'muted',\n  autoPlay: true,\n  playsInline: false,\n  preload: 'auto',\n  loop: false,\n  defaultTime: 0,\n  historyList: { beginDate: 0, duration: 0, fragments: [] },\n};\n\nexport default HistoryPlayer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Player from \"./player\";\nimport HistoryPlayer from \"./history\";\n\nexport function createPlayer({ container, children, onInitPlayer, ...props }) {\n  ReactDOM.render(\n    <Player\n      {...props}\n      onInitPlayer={player => {\n        player.destroy = function() {\n          ReactDOM.unmountComponentAtNode(container);\n        };\n        onInitPlayer && onInitPlayer(player);\n      }}\n    >\n      {children}\n    </Player>,\n    container\n  );\n}\nexport function createHistoryPlayer({ container, children, onInitPlayer, ...props }) {\n  ReactDOM.render(\n    <HistoryPlayer\n      {...props}\n      onInitPlayer={player => {\n        player.destroy = function() {\n          ReactDOM.unmountComponentAtNode(container);\n        };\n        onInitPlayer && onInitPlayer(player);\n      }}\n    >\n      {children}\n    </HistoryPlayer>,\n    container\n  );\n}\n"],"names":["VideoEventInstance","constructor","video","events","playerEvents","on","eventName","handle","listener","push","type","addEventListener","removeEventListener","index","findIndex","v","splice","emit","data","forEach","off","getApi","bind","destroy","Object","keys","key","fn","extend","dist","source","hasOwnProperty","urlBuild","url","temp","i","encodeURIComponent","join","indexOf","httpx","version","useXDR","logPrefix","xhr","xdomain","XDomainRequest","XMLHttpRequest","e","console","error","defaults","name","$defaults","debug","async","timeout","method","dataType","headers","contentType","jsonp","xhrFields","withCredentials","sendBefore","success","status","statusText","ontimeout","needUseXDomainRequest","test","location","hostname","window","request","options","settings","toUpperCase","urlData","log","warn","navigator","userAgent","result","JSON","parse","responseText","responseXML","readyStateChange","readyState","onload","onerror","open","setRequestHeader","key2","$request","$url","$method","$dataType","_xhr","send","exec","callback","get","post","put","patch","json","getJSON","callbackName","Date","getTime","Math","floor","random","evalJsonp","document","body","removeChild","getElementById","script","createElement","src","id","appendChild","getScript","head","getElementsByTagName","loaded","querySelectorAll","length","onreadystatechange","undefined","hostUrl","getTranscodingStream","value","label","actionName","setStreamResolution","BASE64_MAPPING","URLSAFE_BASE64_MAPPING","_toBinary","ascii","binary","b","reverse","_toDecimal","dec","p","pow","_toUTF8Binary","c","binaryArray","mustLen","fatLen","diff","unshift","_c","len","j","sum","_toBinaryArray","str","unicode","charCodeAt","_tmpBinary","_tmpdiff","concat","_toUnicodeStr","unicodeBinary","slice","String","fromCharCode","_encode","url_safe","base64_Index","dictionary","extra_Zero_Count","_tmpExtra_Zero_Count","base64","_decode","_base64Str","_len","charAt","substring","size","_tmp","_tmpLen","k","__BASE64","encode","decode","base64Str","urlsafe_encode","urlsafe_decode","GL_CACHE","DM","SR","PT","LOCAL_PORT","VIDEO_RESOLUTION","resolution","bitrate","show","PY_M_CC_NAME","zvpalyer","findVideoAttribute","val","kv","ens","createHlsPlayer","file","Hls","player","liveDurationInfinity","levelLoadingTimeOut","fragLoadingTimeOut","enableWorker","loadSource","attachMedia","createFlvPlayer","flvOptions","flvConfig","flvjs","isSupported","createPlayer","assign","enableStashBuffer","stashInitialSize","cors","seekType","isLive","attachMediaElement","load","LoggingControl","enableError","logError","enableWarn","logWarn","enableVerbose","logDebug","enableDebug","enableInfo","forceGlobalTag","globalTag","getVideoType","timeStamp","second_time","time","ceil","second","min","hour","dateFormat","timetemp","date","YYYY","getFullYear","DD","getDate","MM","getMonth","hh","getHours","mm","getMinutes","ss","getSeconds","fullscreen","element","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","isFullscreen","ele","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","fullScreenListener","isAdd","fullscreenchange","funcName","fullScreenEvents","map","computedBound","currentPosition","scale","eleRect","getBoundingClientRect","w","width","h","height","lx","ly","x","y","JSONP","functionName","parseInt","amount","innerText","genuuid","tid","hexDigits","substr","getScreenRate","num","videoRatio","getGlobalCache","strS","localStorage","getItem","playerOptions","getLocalPort","getAppPlayerVersion","sessionStorage","detectorPlayeMode","isPlus","setItem","installState","port","respondData","res","code","message","err","tansCodingToUrl","onToken","param1","param2","param3","param4","deviceInfo","url_info","pull_uri","BASE64","replaceAll","lcStore","replace","IconFont","className","props","propTypes","PropTypes","string","Slider","React","Component","renderSliderTips","renderTips","clearTimeout","timer","setTimeout","top","layoutDom","tipsX","pageX","percent","setState","tipsY","showTips","tempValue","hideSliderTips","cancelPropagation","stopPropagation","startDrag","dragFlag","moveChange","stopDrag","computedPositionForEvent","state","onChange","changeCurrentValue","event","sliderDomRef","createRef","lineDom","dragDom","currentPercent","UNSAFE_componentWillReceiveProps","nextProps","componentDidMount","current","querySelector","componentWillUnmount","dx","render","availablePercent","children","left","number","seekTo","func","any","defaultProps","Tips","getContainer","visibel","style","useRef","useEffect","box","ReactDOM","createPortal","bool","Bar","RELOAD","RELOAD_FAIL","RELOAD_SUCCESS","ERROR","ERROR_RELOAD","HISTORY_PLAY_END","SEEK","TRANSFORM","CHANGE_PLAY_INDEX","HIDE_CONTRALLER","SHOW_CONTRALLER","CLEAR_ERROR_TIMER","LeftBar","api","isHistory","reloadHistory","leftExtContents","leftMidExtContents","openSliderVolume","setOpenSliderVolume","useState","dep","setDep","now","updateRender","paused","useMemo","statusIconClassName","volumeVal","muted","volume","volumeIcon","volumePercent","sliderClassName","changePlayStatus","useCallback","play","pause","mutedChantgeStatus","unmute","mute","onChangeVolume","setVolume","parseFloat","toFixed","reload","EventName","precent","round","object","playerProps","node","ColorPicker","playContainer","colorfilter","brightnessValue","setBrightnessValue","contrastValue","setContrastValue","saturateValue","setSaturateValue","hueValue","setHueValue","brightness","cv","contrast","saturate","hue","handleAllChange","handleBrightnessChange","handleContrastChange","handleSaturateChange","handleHueChange","handleResetChange","RightBar","snapshot","rightExtContents","rightMidExtContents","switchResolution","colorPicker","ratioValue","viewText","setViewText","getResolution","isPalette","isSwithRate","update","isfull","isFullScreen","cancelFullScreen","getCurrentScreen","setScale","args","position","getPosition","getScale","setPosition","setRatio","item","ScaleBar","ContrallerBar","ContrallerEvent","setVisibel","showContraller","hideContraller","Children","child","isValidElement","cloneElement","VideoMessage","setStreamState","errorTimer","loading","openStartLoading","old","openWaitLoading","openSeekLoading","canplayLoading","closeLoading","errorReload","reloadFail","reloadSuccess","playEnd","NoSource","install","_TEMP_PLAY_CODE","_APP_PLAY_VERSION","_TEMP_PLAY_PATH","BSConfig","playerDownloadUrl","fontSize","pointerEvents","textDecoration","TineLine","duration","currentTime","buffered","getDuration","getCurrentTime","getSecondsLoaded","getBuffered","seekendPlay","playPercent","bufferedPercent","changePlayTime","renderTimeLineTips","backWind","fastForward","ErrorEvent","flv","hls","errorNoticeHandle","errorInfo","errorHandle","msg","includes","details","unload","DragEvent","openDrag","start","pageY","end","transformChange","lcStoreService","Api","screenNum","stream","updateChunk","removeAttribute","detachMediaElement","seconds","noEmit","getBufferedTime","notEmit","swapAudioCodec","recoverMediaError","stopLoad","startLoad","fraction","requestPictureInPicture","pictureInPictureElement","exitPictureInPicture","setPlaybackRate","rate","playbackRate","seekable","Infinity","canvas","ctx","getContext","videoWidth","videoHeight","drawImage","remove","toDataURL","isRest","transition","__setTransform","isAnimate","transform","exeRatioCommand","ratio","changeStream","restPlayRate","info","getPlayerIng","__player","getHiddenProp","prefixes","getVisibilityState","visibilityState","visProp","evtname","LiveHeart","browserTabChange","BrowserTab","CountContext","createContext","ReConnection","connectHandle","connectCount","connectStatus","useContext","color","SinglePlayer","setConnectStatus","playerStatus","setConnectCount","count","reconnectHandle","updateStatus","currentStatus","errorReloadTimer","streamState","onStreamMounted","errorExtContents","ZPlayer","autoPlay","poster","playsinline","loop","preload","onInitPlayer","playContainerRef","playerObj","setPlayerObj","playerRef","setResolution","setColorPicker","setInstall","token","onVideoFn","uuid","playerObject","playeMode","isInit","formartType","VideoEvent","VideoTools","hideContrallerBar","draggable","TimeLine","isRequired","oneOf","playsInline","computedIndexFormTime","historyList","fragments","computedTimeAndIndex","seekTime","fragment","begin","computedLineList","disabled","playIndex","defaultTime","isEnd","historyPlayEnd","beginDate","lineList","currentLine","filter","_","currentIndexTime","reduce","currentSizeLine","i2","currentIndexSize","currentSize","changePlayIndex","array","setErrorTime","reloadTimer","clearErrorTimer","PlayEnd","endedHandle","HistoryPlayer","speed","playStatus","setPlayStatus","defaultSeekTime","HistoryTimeLine","isDraggable","isScale","container","Player","unmountComponentAtNode","createHistoryPlayer"],"mappings":"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"}